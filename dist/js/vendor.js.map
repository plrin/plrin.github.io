{"version":3,"sources":["webpack:///../node_modules/better-scroll/dist/bscroll.esm.js","webpack:///../node_modules/scrollmagic/scrollmagic/minified/ScrollMagic.min.js"],"names":["slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","toConsumableArray","arr2","from","eventMixin","BScroll","prototype","on","type","fn","context","arguments","_events","once","magic","off","apply","count","trigger","events","len","eventsCopy","concat","event","_event","slice","call","inBrowser","window","ua","navigator","userAgent","toLowerCase","isWeChatDevTools","test","isAndroid","indexOf","getNow","performance","now","timing","navigationStart","Date","extend","target","_len","rest","_key","source","key","isUndef","v","getDistance","x","y","Math","sqrt","elementStyle","document","createElement","style","vendor","transformNames","webkit","Moz","O","ms","standard","prefixStyle","charAt","toUpperCase","substr","addEvent","el","capture","addEventListener","passive","removeEvent","removeEventListener","offset","left","top","offsetLeft","offsetTop","offsetParent","offsetToBody","rect","getBoundingClientRect","pageXOffset","pageYOffset","cssVendor","transform","transition","hasPerspective","hasTouch","hasTransform","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","TOUCH_EVENT","MOUSE_EVENT","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","getRect","SVGElement","width","height","offsetWidth","offsetHeight","preventDefaultException","exceptions","tap","e","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","eventSource","changedTouches","posSrc","screenX","screenY","clientX","clientY","bubbles","cancelable","MouseEvent","forwardedTouchEvent","_constructed","dblclick","prepend","firstChild","before","appendChild","parentNode","insertBefore","removeChild","child","DEFAULT_OPTIONS","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","bounce","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefault","tagName","HWCompositing","useTransition","useTransform","bindToWrapper","disableMouse","disableTouch","observeDOM","autoBlur","wheel","snap","scrollbar","pullDownRefresh","pullUpLoad","mouseWheel","stopPropagation","zoom","infinity","initMixin","_init","options","_handleOptions","directionX","directionY","setScale","_addDOMEvents","_initExtFeatures","_watchTransition","_initDOMObserver","_handleAutoBlur","refresh","scrollTo","enable","scale","lastScale","translateZ","eventOperation","_handleDOMEvents","_removeDOMEvents","wrapper","scroller","_initSnap","_initScrollbar","_initPullUp","_initPullDown","_initWheel","_initMouseWheel","_initZoom","_initInfinite","defineProperty","me","isInTransition","get","set","newVal","children","pointerEvents","pulling","activeElement","blur","_this","MutationObserver","timer","observer","mutations","_shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","clearTimeout","setTimeout","config","attributes","childList","subtree","observe","disconnect","_checkDOMUpdate","outsideBoundaries","minScrollX","maxScrollX","minScrollY","maxScrollY","stopFromTransition","scrollerRect","oldWidth","oldHeight","check","destroyed","newWidth","newHeight","_this2","handleEvent","_start","touches","_zoomStart","_zoom","_move","scaled","_zoomEnd","_end","_resize","_transitionEnd","enabled","_onMouseWheel","isWrapperStatic","getComputedStyle","position","wrapperRect","wrapperWidth","wrapperHeight","scrollerWidth","round","scrollerHeight","relativeX","relativeY","items","itemHeight","selectedIndex","hasHorizontalScroll","hasVerticalScroll","endTime","wrapperOffset","resetPosition","disable","ease","swipe","t","swipeBounce","current","start","time","lowerMargin","upperMargin","wrapperSize","distance","speed","abs","duration","rate","destination","max","min","DEFAULT_INTERVAL","noop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","interval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","id","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_LEFT","DIRECTION_RIGHT","PROBE_DEBOUNCE","PROBE_REALTIME","warn","msg","console","error","assert","condition","Error","coreMixin","_eventType","button","initiated","moved","distX","distY","movingDirectionX","movingDirectionY","directionLocked","_transitionTime","startTime","stop","point","absStartX","absStartY","pointX","pointY","deltaX","deltaY","absDistX","absDistY","timestamp","newX","newY","bottom","right","_translate","scrollLeft","documentElement","body","scrollTop","pX","pY","clientWidth","clientHeight","_checkPullDown","_checkClick","flick","momentumX","momentumY","adjustTime","easing","_nearestSnap","currentPage","snapSpeed","preventClick","classList","contains","wheelWrapperClass","index","_offset","scrollToElement","_dblclick","dblclickTrigged","lastClickTime","_dblclick$delay","delay","resizeTimeout","_startProbe","probeTimer","probe","pos","getComputedPosition","scrollerStyle","indicators","transitionTime","_transitionTimingFunction","_i2","needReset","_options$wheel$rotate","rotate","deg","_i3","updatePosition","_animate","destX","destY","easingFn","startScale","destScale","destTime","step","isAnimating","newScale","animateTimer","scrollBy","_reflow","offsetX","offsetY","nodeType","querySelector","wheelItemClass","easeing","roundX","roundY","matrix","split","replace","destroy","snapMixin","loop","cloneNode","querySelectorAll","pages","stepX","stepY","cx","cy","l","m","n","_checkSnapLoop","initPageX","_loopX","initPageY","_loopY","_goToPage","snapThreshold","threshold","snapThresholdX","snapThresholdY","listenFlick","_children","posX","posY","goToPage","prev","getCurrentPage","wheelMixin","wheelTo","getSelectedIndex","INDICATOR_MIN_LEN","scrollbarMixin","_options$scrollbar","_options$scrollbar$fa","fade","_options$scrollbar$in","interactive","indicator","createScrollbar","direction","_insertScrollBar","Indicator","_removeScrollBars","cssText","className","wrapperStyle","indicatorStyle","visible","opacity","sizeRatioX","sizeRatioY","maxPosX","maxPosY","_shouldShow","_calculate","hold","fadeTimeout","indicatorHeight","_height","indicatorWidth","_width","lastPointX","lastPointY","_handleMoveEvents","_pos","snapOption","_snapOption$easing","display","pullDownMixin","_options$pullDownRefr","_options$pullDownRefr2","_options$pullDownRefr3","finishPullDown","openPullDown","closePullDown","pullUpMixin","pullupWatching","_watchPullUp","_checkToEnd","_options$pullUpLoad$t","finishPullUp","openPullUp","closePullUp","mouseWheelMixin","_handleMouseWheelEvent","mouseWheelTimer","mouseWheelEndTimer","firstWheelOpreation","_options$mouseWheel","_options$mouseWheel$s","_options$mouseWheel$i","invert","_options$mouseWheel$e","easeTime","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","needTriggerEnd","zoomMixin","_options$zoom","_options$zoom$start","_options$zoom$min","_options$zoom$max","_zoomTo","originX","originY","zoomTo","_offsetToBody","firstFinger","secondFinger","startDistance","_offsetToBody2","_options$zoom2","_options$zoom2$min","_options$zoom2$max","pow","_options$zoom3","_options$zoom3$min","_options$zoom3$max","RUNWAY_ITEMS","RUNWAY_ITEMS_OPPOSITE","ANIMATION_DURATION_MS","DEFAULT_SCROLL_RUNWAY","infiniteMixin","infiniteScroller","InfiniteScroller","isTombstoneNode","node","createTombstone","fetch","render","firstAttachedItem","lastAttachedItem","anchorScrollTop","anchorItem","tombstoneHeight","tombstoneWidth","tombstones","tombstonesAnimationHandlers","loadedItems","requestInProgress","hasMore","wrapperEl","scrollerEl","onScroll","onResize","_onResizeHandler","forEach","handler","item","delta","_calculateAnchoredItem","lastScreenItem","end","fill","maybeRequestContent","tombstone","attachContent","_this3","itemsNeeded","then","addContent","tombstoneLen","_removeTombstones","curPos","_fixScrollPosition","_setupAnimations","_addItem","data","unusedNodes","_collectUnusedNodes","tombstoneAnimations","_createDOMNodes","_cleanupUnusedNodes","_cacheNodeSize","resetMore","markIndex","itemLen","currentNode","currentData","splice","zIndex","pop","_getTombStone","isTombstone","_this4","animation","_animation","tombstoneNode","tombstoneAnimationsHandler","_animation2","initialAnchor","ceil","floor","Version","define","version","Controller","r","o","s","a","c","u","f","defaults","d","h","g","p","w","S","b","hasOwnProperty","container","elements","z","T","refreshInterval","parseInt","E","A","vertical","C","_setScrollPos","F","scrollPos","reverse","update","L","rAF","Event","_options","sort","scrollOffset","addScene","Scene","controller","addTo","globalSceneOptions","removeScene","remove","updateScene","Number","Function","hasAttribute","info","size","scrollDirection","isDocument","loglevel","cAF","addOption","$super","constructor","trim","namespace","keys","what","reset","startPos","endPos","progress","state","triggerElement","triggerHook","newval","reason","validate","String","match","parseFloat","shifts","triggerPosition","_","removePin","spacer","inFlow","css","pushFollowers","isMarginCollapseType","relSize","autoFullWidth","N","P","D","setPin","spacerClass","boxSizing","mozBoxSizing","webkitBoxSizing","setAttribute","addClass","___origStyle","margin","margins","R","k","removeClassToggle","setClassToggle","removeClass","onCenter","onEnter","onLeave","currentTarget","timeStamp","_util","currentStyle","DomElement","marginTop","marginBottom","marginLeft","marginRight","getTime","bind","toString","HTMLElement","nodeName","add","RegExp","join"],"mappings":"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","file":"js/vendor.js","sourcesContent":["/*!\n * better-normal-scroll v1.13.2\n * (c) 2016-2018 ustbhuangyi\n * Released under the MIT License.\n */\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction eventMixin(BScroll) {\n  BScroll.prototype.on = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push([fn, context]);\n  };\n\n  BScroll.prototype.once = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    function magic() {\n      this.off(type, magic);\n\n      fn.apply(context, arguments);\n    }\n    // To expose the corresponding function method in order to execute the off method\n    magic.fn = fn;\n\n    this.on(type, magic);\n  };\n\n  BScroll.prototype.off = function (type, fn) {\n    var _events = this._events[type];\n    if (!_events) {\n      return;\n    }\n\n    var count = _events.length;\n    while (count--) {\n      if (_events[count][0] === fn || _events[count][0] && _events[count][0].fn === fn) {\n        _events[count][0] = undefined;\n      }\n    }\n  };\n\n  BScroll.prototype.trigger = function (type) {\n    var events = this._events[type];\n    if (!events) {\n      return;\n    }\n\n    var len = events.length;\n    var eventsCopy = [].concat(toConsumableArray(events));\n    for (var i = 0; i < len; i++) {\n      var event = eventsCopy[i];\n\n      var _event = slicedToArray(event, 2),\n          fn = _event[0],\n          context = _event[1];\n\n      if (fn) {\n        fn.apply(context, [].slice.call(arguments, 1));\n      }\n    }\n  };\n}\n\n// ssr support\nvar inBrowser = typeof window !== 'undefined';\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\nvar isWeChatDevTools = ua && /wechatdevtools/.test(ua);\nvar isAndroid = ua && ua.indexOf('android') > 0;\n\nfunction getNow() {\n  return window.performance && window.performance.now ? window.performance.now() + window.performance.timing.navigationStart : +new Date();\n}\n\nfunction extend(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < rest.length; i++) {\n    var source = rest[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction isUndef(v) {\n  return v === undefined || v === null;\n}\n\nfunction getDistance(x, y) {\n  return Math.sqrt(x * x + y * y);\n}\n\nvar elementStyle = inBrowser && document.createElement('div').style;\n\nvar vendor = function () {\n  if (!inBrowser) {\n    return false;\n  }\n  var transformNames = {\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform',\n    standard: 'transform'\n  };\n\n  for (var key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key;\n    }\n  }\n\n  return false;\n}();\n\nfunction prefixStyle(style) {\n  if (vendor === false) {\n    return false;\n  }\n\n  if (vendor === 'standard') {\n    if (style === 'transitionEnd') {\n      return 'transitionend';\n    }\n    return style;\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\n\nfunction addEvent(el, type, fn, capture) {\n  el.addEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction removeEvent(el, type, fn, capture) {\n  el.removeEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el) {\n    left -= el.offsetLeft;\n    top -= el.offsetTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n}\n\nfunction offsetToBody(el) {\n  var rect = el.getBoundingClientRect();\n\n  return {\n    left: -(rect.left + window.pageXOffset),\n    top: -(rect.top + window.pageYOffset)\n  };\n}\n\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\n\nvar transform = prefixStyle('transform');\nvar transition = prefixStyle('transition');\n\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\n// fix issue #361\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\nvar hasTransform = transform !== false;\nvar hasTransition = inBrowser && transition in elementStyle;\n\nvar style = {\n  transform: transform,\n  transition: transition,\n  transitionTimingFunction: prefixStyle('transitionTimingFunction'),\n  transitionDuration: prefixStyle('transitionDuration'),\n  transitionDelay: prefixStyle('transitionDelay'),\n  transformOrigin: prefixStyle('transformOrigin'),\n  transitionEnd: prefixStyle('transitionEnd')\n};\n\nvar TOUCH_EVENT = 1;\nvar MOUSE_EVENT = 2;\n\nvar eventType = {\n  touchstart: TOUCH_EVENT,\n  touchmove: TOUCH_EVENT,\n  touchend: TOUCH_EVENT,\n\n  mousedown: MOUSE_EVENT,\n  mousemove: MOUSE_EVENT,\n  mouseup: MOUSE_EVENT\n};\n\nfunction getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\n\nfunction preventDefaultException(el, exceptions) {\n  for (var i in exceptions) {\n    if (exceptions[i].test(el[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction tap(e, eventName) {\n  var ev = document.createEvent('Event');\n  ev.initEvent(eventName, true, true);\n  ev.pageX = e.pageX;\n  ev.pageY = e.pageY;\n  e.target.dispatchEvent(ev);\n}\n\nfunction click(e) {\n  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n  var eventSource = void 0;\n  if (e.type === 'mouseup' || e.type === 'mousecancel') {\n    eventSource = e;\n  } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n    eventSource = e.changedTouches[0];\n  }\n  var posSrc = {};\n  if (eventSource) {\n    posSrc.screenX = eventSource.screenX || 0;\n    posSrc.screenY = eventSource.screenY || 0;\n    posSrc.clientX = eventSource.clientX || 0;\n    posSrc.clientY = eventSource.clientY || 0;\n  }\n  var ev = void 0;\n  var bubbles = true;\n  var cancelable = true;\n  if (typeof MouseEvent !== 'undefined') {\n    try {\n      ev = new MouseEvent(event, extend({\n        bubbles: bubbles,\n        cancelable: cancelable\n      }, posSrc));\n    } catch (e) {\n      createEvent();\n    }\n  } else {\n    createEvent();\n  }\n\n  function createEvent() {\n    ev = document.createEvent('Event');\n    ev.initEvent(event, bubbles, cancelable);\n    extend(ev, posSrc);\n  }\n\n  // forwardedTouchEvent set to true in case of the conflict with fastclick\n  ev.forwardedTouchEvent = true;\n  ev._constructed = true;\n  e.target.dispatchEvent(ev);\n}\n\nfunction dblclick(e) {\n  click(e, 'dblclick');\n}\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\nfunction removeChild(el, child) {\n  el.removeChild(child);\n}\n\nvar DEFAULT_OPTIONS = {\n  startX: 0,\n  startY: 0,\n  scrollX: false,\n  scrollY: true,\n  freeScroll: false,\n  directionLockThreshold: 5,\n  eventPassthrough: '',\n  click: false,\n  tap: false,\n  /**\n   * support any side\n   * bounce: {\n   *   top: true,\n   *   bottom: true,\n   *   left: true,\n   *   right: true\n   * }\n   */\n  bounce: true,\n  bounceTime: 800,\n  momentum: true,\n  momentumLimitTime: 300,\n  momentumLimitDistance: 15,\n  swipeTime: 2500,\n  swipeBounceTime: 500,\n  deceleration: 0.0015,\n  flickLimitTime: 200,\n  flickLimitDistance: 100,\n  resizePolling: 60,\n  probeType: 0,\n  preventDefault: true,\n  preventDefaultException: {\n    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/\n  },\n  HWCompositing: true,\n  useTransition: true,\n  useTransform: true,\n  bindToWrapper: false,\n  disableMouse: hasTouch,\n  disableTouch: !hasTouch,\n  observeDOM: true,\n  autoBlur: true,\n  /**\n   * for picker\n   * wheel: {\n   *   selectedIndex: 0,\n   *   rotate: 25,\n   *   adjustTime: 400\n   *   wheelWrapperClass: 'wheel-scroll',\n   *   wheelItemClass: 'wheel-item'\n   * }\n   */\n  wheel: false,\n  /**\n   * for slide\n   * snap: {\n   *   loop: false,\n   *   el: domEl,\n   *   threshold: 0.1,\n   *   stepX: 100,\n   *   stepY: 100,\n   *   speed: 400,\n   *   easing: {\n   *     style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n   *     fn: function (t) {\n   *       return t * (2 - t)\n   *     }\n   *   }\n   *   listenFlick: true\n   * }\n   */\n  snap: false,\n  /**\n   * for scrollbar\n   * scrollbar: {\n   *   fade: true,\n   *   interactive: false\n   * }\n   */\n  scrollbar: false,\n  /**\n   * for pull down and refresh\n   * pullDownRefresh: {\n   *   threshold: 50,\n   *   stop: 20\n   * }\n   */\n  pullDownRefresh: false,\n  /**\n   * for pull up and load\n   * pullUpLoad: {\n   *   threshold: 50\n   * }\n   */\n  pullUpLoad: false,\n  /**\n   * for mouse wheel\n   * mouseWheel: {\n   *   speed: 20,\n   *   invert: false,\n   *   easeTime: 300\n   * }\n   */\n  mouseWheel: false,\n  stopPropagation: false,\n  /**\n   * for zoom\n   * zoom: {\n   *   start: 1,\n   *   min: 1,\n   *   max: 4\n   * }\n   */\n  zoom: false,\n  /**\n   * for infinity\n   * infinity: {\n   *   render(item, div) {\n   *   },\n   *   createTombstone() {\n   *   },\n   *   fetch(count) {\n   *   }\n   * }\n   */\n  infinity: false,\n  /**\n   * for double click\n   * dblclick: {\n   *   delay: 300\n   * }\n   */\n  dblclick: false\n};\n\nfunction initMixin(BScroll) {\n  BScroll.prototype._init = function (el, options) {\n    this._handleOptions(options);\n\n    // init private custom events\n    this._events = {};\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n\n    this.setScale(1);\n\n    this._addDOMEvents();\n\n    this._initExtFeatures();\n\n    this._watchTransition();\n\n    if (this.options.observeDOM) {\n      this._initDOMObserver();\n    }\n\n    if (this.options.autoBlur) {\n      this._handleAutoBlur();\n    }\n\n    this.refresh();\n\n    if (!this.options.snap) {\n      this.scrollTo(this.options.startX, this.options.startY);\n    }\n\n    this.enable();\n  };\n\n  BScroll.prototype.setScale = function (scale) {\n    this.lastScale = isUndef(this.scale) ? scale : this.scale;\n    this.scale = scale;\n  };\n\n  BScroll.prototype._handleOptions = function (options) {\n    this.options = extend({}, DEFAULT_OPTIONS, options);\n\n    this.translateZ = this.options.HWCompositing && hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = this.options.useTransition && hasTransition;\n    this.options.useTransform = this.options.useTransform && hasTransform;\n\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollX = this.options.eventPassthrough === 'horizontal' ? false : this.options.scrollX;\n    this.options.scrollY = this.options.eventPassthrough === 'vertical' ? false : this.options.scrollY;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    }\n  };\n\n  BScroll.prototype._addDOMEvents = function () {\n    var eventOperation = addEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._removeDOMEvents = function () {\n    var eventOperation = removeEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._handleDOMEvents = function (eventOperation) {\n    var target = this.options.bindToWrapper ? this.wrapper : window;\n    eventOperation(window, 'orientationchange', this);\n    eventOperation(window, 'resize', this);\n\n    if (this.options.click) {\n      eventOperation(this.wrapper, 'click', this, true);\n    }\n\n    if (!this.options.disableMouse) {\n      eventOperation(this.wrapper, 'mousedown', this);\n      eventOperation(target, 'mousemove', this);\n      eventOperation(target, 'mousecancel', this);\n      eventOperation(target, 'mouseup', this);\n    }\n\n    if (hasTouch && !this.options.disableTouch) {\n      eventOperation(this.wrapper, 'touchstart', this);\n      eventOperation(target, 'touchmove', this);\n      eventOperation(target, 'touchcancel', this);\n      eventOperation(target, 'touchend', this);\n    }\n\n    eventOperation(this.scroller, style.transitionEnd, this);\n  };\n\n  BScroll.prototype._initExtFeatures = function () {\n    if (this.options.snap) {\n      this._initSnap();\n    }\n    if (this.options.scrollbar) {\n      this._initScrollbar();\n    }\n    if (this.options.pullUpLoad) {\n      this._initPullUp();\n    }\n    if (this.options.pullDownRefresh) {\n      this._initPullDown();\n    }\n    if (this.options.wheel) {\n      this._initWheel();\n    }\n    if (this.options.mouseWheel) {\n      this._initMouseWheel();\n    }\n    if (this.options.zoom) {\n      this._initZoom();\n    }\n    if (this.options.infinity) {\n      this._initInfinite();\n    }\n  };\n\n  BScroll.prototype._watchTransition = function () {\n    if (typeof Object.defineProperty !== 'function') {\n      return;\n    }\n    var me = this;\n    var isInTransition = false;\n    var key = this.useTransition ? 'isInTransition' : 'isAnimating';\n    Object.defineProperty(this, key, {\n      get: function get() {\n        return isInTransition;\n      },\n      set: function set(newVal) {\n        isInTransition = newVal;\n        // fix issue #359\n        var el = me.scroller.children.length ? me.scroller.children : [me.scroller];\n        var pointerEvents = isInTransition && !me.pulling ? 'none' : 'auto';\n        for (var i = 0; i < el.length; i++) {\n          el[i].style.pointerEvents = pointerEvents;\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._handleAutoBlur = function () {\n    this.on('scrollStart', function () {\n      var activeElement = document.activeElement;\n      if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n        activeElement.blur();\n      }\n    });\n  };\n\n  BScroll.prototype._initDOMObserver = function () {\n    var _this = this;\n\n    if (typeof MutationObserver !== 'undefined') {\n      var timer = void 0;\n      var observer = new MutationObserver(function (mutations) {\n        // don't do any refresh during the transition, or outside of the boundaries\n        if (_this._shouldNotRefresh()) {\n          return;\n        }\n        var immediateRefresh = false;\n        var deferredRefresh = false;\n        for (var i = 0; i < mutations.length; i++) {\n          var mutation = mutations[i];\n          if (mutation.type !== 'attributes') {\n            immediateRefresh = true;\n            break;\n          } else {\n            if (mutation.target !== _this.scroller) {\n              deferredRefresh = true;\n              break;\n            }\n          }\n        }\n        if (immediateRefresh) {\n          _this.refresh();\n        } else if (deferredRefresh) {\n          // attributes changes too often\n          clearTimeout(timer);\n          timer = setTimeout(function () {\n            if (!_this._shouldNotRefresh()) {\n              _this.refresh();\n            }\n          }, 60);\n        }\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        subtree: true\n      };\n      observer.observe(this.scroller, config);\n\n      this.on('destroy', function () {\n        observer.disconnect();\n      });\n    } else {\n      this._checkDOMUpdate();\n    }\n  };\n\n  BScroll.prototype._shouldNotRefresh = function () {\n    var outsideBoundaries = this.x > this.minScrollX || this.x < this.maxScrollX || this.y > this.minScrollY || this.y < this.maxScrollY;\n\n    return this.isInTransition || this.stopFromTransition || outsideBoundaries;\n  };\n\n  BScroll.prototype._checkDOMUpdate = function () {\n    var scrollerRect = getRect(this.scroller);\n    var oldWidth = scrollerRect.width;\n    var oldHeight = scrollerRect.height;\n\n    function check() {\n      if (this.destroyed) {\n        return;\n      }\n      scrollerRect = getRect(this.scroller);\n      var newWidth = scrollerRect.width;\n      var newHeight = scrollerRect.height;\n\n      if (oldWidth !== newWidth || oldHeight !== newHeight) {\n        this.refresh();\n      }\n      oldWidth = newWidth;\n      oldHeight = newHeight;\n\n      next.call(this);\n    }\n\n    function next() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        check.call(_this2);\n      }, 1000);\n    }\n\n    next.call(this);\n  };\n\n  BScroll.prototype.handleEvent = function (e) {\n    switch (e.type) {\n      case 'touchstart':\n      case 'mousedown':\n        this._start(e);\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoomStart(e);\n        }\n        break;\n      case 'touchmove':\n      case 'mousemove':\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoom(e);\n        } else {\n          this._move(e);\n        }\n        break;\n      case 'touchend':\n      case 'mouseup':\n      case 'touchcancel':\n      case 'mousecancel':\n        if (this.scaled) {\n          this._zoomEnd(e);\n        } else {\n          this._end(e);\n        }\n        break;\n      case 'orientationchange':\n      case 'resize':\n        this._resize();\n        break;\n      case 'transitionend':\n      case 'webkitTransitionEnd':\n      case 'oTransitionEnd':\n      case 'MSTransitionEnd':\n        this._transitionEnd(e);\n        break;\n      case 'click':\n        if (this.enabled && !e._constructed) {\n          if (!preventDefaultException(e.target, this.options.preventDefaultException)) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }\n        break;\n      case 'wheel':\n      case 'DOMMouseScroll':\n      case 'mousewheel':\n        this._onMouseWheel(e);\n        break;\n    }\n  };\n\n  BScroll.prototype.refresh = function () {\n    var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\n    var wrapperRect = getRect(this.wrapper);\n    this.wrapperWidth = wrapperRect.width;\n    this.wrapperHeight = wrapperRect.height;\n\n    var scrollerRect = getRect(this.scroller);\n    this.scrollerWidth = Math.round(scrollerRect.width * this.scale);\n    this.scrollerHeight = Math.round(scrollerRect.height * this.scale);\n\n    this.relativeX = scrollerRect.left;\n    this.relativeY = scrollerRect.top;\n\n    if (isWrapperStatic) {\n      this.relativeX -= wrapperRect.left;\n      this.relativeY -= wrapperRect.top;\n    }\n\n    this.minScrollX = 0;\n    this.minScrollY = 0;\n\n    var wheel = this.options.wheel;\n    if (wheel) {\n      this.items = this.scroller.children;\n      this.options.itemHeight = this.itemHeight = this.items.length ? this.scrollerHeight / this.items.length : 0;\n      if (this.selectedIndex === undefined) {\n        this.selectedIndex = wheel.selectedIndex || 0;\n      }\n      this.options.startY = -this.selectedIndex * this.itemHeight;\n      this.maxScrollX = 0;\n      this.maxScrollY = -this.itemHeight * (this.items.length - 1);\n    } else {\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      if (!this.options.infinity) {\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      }\n      if (this.maxScrollX < 0) {\n        this.maxScrollX -= this.relativeX;\n        this.minScrollX = -this.relativeX;\n      } else if (this.scale > 1) {\n        this.maxScrollX = this.maxScrollX / 2 - this.relativeX;\n        this.minScrollX = this.maxScrollX;\n      }\n      if (this.maxScrollY < 0) {\n        this.maxScrollY -= this.relativeY;\n        this.minScrollY = -this.relativeY;\n      } else if (this.scale > 1) {\n        this.maxScrollY = this.maxScrollY / 2 - this.relativeY;\n        this.minScrollY = this.maxScrollY;\n      }\n    }\n\n    this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < this.minScrollX;\n    this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < this.minScrollY;\n\n    if (!this.hasHorizontalScroll) {\n      this.maxScrollX = this.minScrollX;\n      this.scrollerWidth = this.wrapperWidth;\n    }\n\n    if (!this.hasVerticalScroll) {\n      this.maxScrollY = this.minScrollY;\n      this.scrollerHeight = this.wrapperHeight;\n    }\n\n    this.endTime = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.wrapperOffset = offset(this.wrapper);\n\n    this.trigger('refresh');\n\n    !this.scaled && this.resetPosition();\n  };\n\n  BScroll.prototype.enable = function () {\n    this.enabled = true;\n  };\n\n  BScroll.prototype.disable = function () {\n    this.enabled = false;\n  };\n}\n\nvar ease = {\n  // easeOutQuint\n  swipe: {\n    style: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    fn: function fn(t) {\n      return 1 + --t * t * t * t * t;\n    }\n  },\n  // easeOutQuard\n  swipeBounce: {\n    style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    fn: function fn(t) {\n      return t * (2 - t);\n    }\n  },\n  // easeOutQuart\n  bounce: {\n    style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    fn: function fn(t) {\n      return 1 - --t * t * t * t;\n    }\n  }\n};\n\nfunction momentum(current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\n  var distance = current - start;\n  var speed = Math.abs(distance) / time;\n\n  var deceleration = options.deceleration,\n      itemHeight = options.itemHeight,\n      swipeBounceTime = options.swipeBounceTime,\n      wheel = options.wheel,\n      swipeTime = options.swipeTime;\n\n  var duration = swipeTime;\n  var rate = wheel ? 4 : 15;\n\n  var destination = current + speed / deceleration * (distance < 0 ? -1 : 1);\n\n  if (wheel && itemHeight) {\n    destination = Math.round(destination / itemHeight) * itemHeight;\n  }\n\n  if (destination < lowerMargin) {\n    destination = wrapperSize ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - wrapperSize / rate * speed) : lowerMargin;\n    duration = swipeBounceTime;\n  } else if (destination > upperMargin) {\n    destination = wrapperSize ? Math.min(upperMargin + wrapperSize / 4, upperMargin + wrapperSize / rate * speed) : upperMargin;\n    duration = swipeBounceTime;\n  }\n\n  return {\n    destination: Math.round(destination),\n    duration: duration\n  };\n}\n\nvar DEFAULT_INTERVAL = 100 / 60;\n\nfunction noop() {}\n\nvar requestAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n  // if all else fails, use setTimeout\n  function (callback) {\n    return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\n  };\n}();\n\nvar cancelAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    window.clearTimeout(id);\n  };\n}();\n\nvar DIRECTION_UP = 1;\nvar DIRECTION_DOWN = -1;\nvar DIRECTION_LEFT = 1;\nvar DIRECTION_RIGHT = -1;\n\nvar PROBE_DEBOUNCE = 1;\n\nvar PROBE_REALTIME = 3;\n\nfunction warn(msg) {\n  console.error('[BScroll warn]: ' + msg);\n}\n\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error('[BScroll] ' + msg);\n  }\n}\n\nfunction coreMixin(BScroll) {\n  BScroll.prototype._start = function (e) {\n    var _eventType = eventType[e.type];\n    if (_eventType !== TOUCH_EVENT) {\n      if (e.button !== 0) {\n        return;\n      }\n    }\n    if (!this.enabled || this.destroyed || this.initiated && this.initiated !== _eventType) {\n      return;\n    }\n    this.initiated = _eventType;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.moved = false;\n    this.distX = 0;\n    this.distY = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.movingDirectionX = 0;\n    this.movingDirectionY = 0;\n    this.directionLocked = 0;\n\n    this._transitionTime();\n    this.startTime = getNow();\n\n    if (this.options.wheel) {\n      this.target = e.target;\n    }\n\n    this.stop();\n\n    var point = e.touches ? e.touches[0] : e;\n\n    this.startX = this.x;\n    this.startY = this.y;\n    this.absStartX = this.x;\n    this.absStartY = this.y;\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.trigger('beforeScrollStart');\n  };\n\n  BScroll.prototype._move = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var point = e.touches ? e.touches[0] : e;\n    var deltaX = point.pageX - this.pointX;\n    var deltaY = point.pageY - this.pointY;\n\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.distX += deltaX;\n    this.distY += deltaY;\n\n    var absDistX = Math.abs(this.distX);\n    var absDistY = Math.abs(this.distY);\n\n    var timestamp = getNow();\n\n    // We need to move at least momentumLimitDistance pixels for the scrolling to initiate\n    if (timestamp - this.endTime > this.options.momentumLimitTime && absDistY < this.options.momentumLimitDistance && absDistX < this.options.momentumLimitDistance) {\n      return;\n    }\n\n    // If you are scrolling in one direction lock the other\n    if (!this.directionLocked && !this.options.freeScroll) {\n      if (absDistX > absDistY + this.options.directionLockThreshold) {\n        this.directionLocked = 'h'; // lock horizontally\n      } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n        this.directionLocked = 'v'; // lock vertically\n      } else {\n        this.directionLocked = 'n'; // no lock\n      }\n    }\n\n    if (this.directionLocked === 'h') {\n      if (this.options.eventPassthrough === 'vertical') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'horizontal') {\n        this.initiated = false;\n        return;\n      }\n      deltaY = 0;\n    } else if (this.directionLocked === 'v') {\n      if (this.options.eventPassthrough === 'horizontal') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'vertical') {\n        this.initiated = false;\n        return;\n      }\n      deltaX = 0;\n    }\n\n    deltaX = this.hasHorizontalScroll ? deltaX : 0;\n    deltaY = this.hasVerticalScroll ? deltaY : 0;\n    this.movingDirectionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.movingDirectionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    var newX = this.x + deltaX;\n    var newY = this.y + deltaY;\n\n    var top = false;\n    var bottom = false;\n    var left = false;\n    var right = false;\n    // Slow down or stop if outside of the boundaries\n    var bounce = this.options.bounce;\n    if (bounce !== false) {\n      top = bounce.top === undefined ? true : bounce.top;\n      bottom = bounce.bottom === undefined ? true : bounce.bottom;\n      left = bounce.left === undefined ? true : bounce.left;\n      right = bounce.right === undefined ? true : bounce.right;\n    }\n    if (newX > this.minScrollX || newX < this.maxScrollX) {\n      if (newX > this.minScrollX && left || newX < this.maxScrollX && right) {\n        newX = this.x + deltaX / 3;\n      } else {\n        newX = newX > this.minScrollX ? this.minScrollX : this.maxScrollX;\n      }\n    }\n    if (newY > this.minScrollY || newY < this.maxScrollY) {\n      if (newY > this.minScrollY && top || newY < this.maxScrollY && bottom) {\n        newY = this.y + deltaY / 3;\n      } else {\n        newY = newY > this.minScrollY ? this.minScrollY : this.maxScrollY;\n      }\n    }\n\n    if (!this.moved) {\n      this.moved = true;\n      this.trigger('scrollStart');\n    }\n\n    this._translate(newX, newY);\n\n    if (timestamp - this.startTime > this.options.momentumLimitTime) {\n      this.startTime = timestamp;\n      this.startX = this.x;\n      this.startY = this.y;\n\n      if (this.options.probeType === PROBE_DEBOUNCE) {\n        this.trigger('scroll', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n\n    if (this.options.probeType > PROBE_DEBOUNCE) {\n      this.trigger('scroll', {\n        x: this.x,\n        y: this.y\n      });\n    }\n\n    var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n    var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n    var pX = this.pointX - scrollLeft;\n    var pY = this.pointY - scrollTop;\n\n    if (pX > document.documentElement.clientWidth - this.options.momentumLimitDistance || pX < this.options.momentumLimitDistance || pY < this.options.momentumLimitDistance || pY > document.documentElement.clientHeight - this.options.momentumLimitDistance) {\n      this._end(e);\n    }\n  };\n\n  BScroll.prototype._end = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n    this.initiated = false;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.trigger('touchEnd', {\n      x: this.x,\n      y: this.y\n    });\n\n    this.isInTransition = false;\n\n    // ensures that the last position is rounded\n    var newX = Math.round(this.x);\n    var newY = Math.round(this.y);\n\n    var deltaX = newX - this.absStartX;\n    var deltaY = newY - this.absStartY;\n    this.directionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.directionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    // if configure pull down refresh, check it first\n    if (this.options.pullDownRefresh && this._checkPullDown()) {\n      return;\n    }\n\n    // check if it is a click operation\n    if (this._checkClick(e)) {\n      this.trigger('scrollCancel');\n      return;\n    }\n\n    // reset if we are outside of the boundaries\n    if (this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      return;\n    }\n\n    this._translate(newX, newY);\n\n    this.endTime = getNow();\n    var duration = this.endTime - this.startTime;\n    var absDistX = Math.abs(newX - this.startX);\n    var absDistY = Math.abs(newY - this.startY);\n\n    // flick\n    if (this._events.flick && duration < this.options.flickLimitTime && absDistX < this.options.flickLimitDistance && absDistY < this.options.flickLimitDistance) {\n      this.trigger('flick');\n      return;\n    }\n\n    var time = 0;\n    // start momentum animation if needed\n    if (this.options.momentum && duration < this.options.momentumLimitTime && (absDistY > this.options.momentumLimitDistance || absDistX > this.options.momentumLimitDistance)) {\n      var top = false;\n      var bottom = false;\n      var left = false;\n      var right = false;\n      var bounce = this.options.bounce;\n      if (bounce !== false) {\n        top = bounce.top === undefined ? true : bounce.top;\n        bottom = bounce.bottom === undefined ? true : bounce.bottom;\n        left = bounce.left === undefined ? true : bounce.left;\n        right = bounce.right === undefined ? true : bounce.right;\n      }\n      var wrapperWidth = this.directionX === DIRECTION_RIGHT && left || this.directionX === DIRECTION_LEFT && right ? this.wrapperWidth : 0;\n      var wrapperHeight = this.directionY === DIRECTION_DOWN && top || this.directionY === DIRECTION_UP && bottom ? this.wrapperHeight : 0;\n      var momentumX = this.hasHorizontalScroll ? momentum(this.x, this.startX, duration, this.maxScrollX, this.minScrollX, wrapperWidth, this.options) : { destination: newX, duration: 0 };\n      var momentumY = this.hasVerticalScroll ? momentum(this.y, this.startY, duration, this.maxScrollY, this.minScrollY, wrapperHeight, this.options) : { destination: newY, duration: 0 };\n      newX = momentumX.destination;\n      newY = momentumY.destination;\n      time = Math.max(momentumX.duration, momentumY.duration);\n      this.isInTransition = true;\n    } else {\n      if (this.options.wheel) {\n        newY = Math.round(newY / this.itemHeight) * this.itemHeight;\n        time = this.options.wheel.adjustTime || 400;\n      }\n    }\n\n    var easing = ease.swipe;\n    if (this.options.snap) {\n      var snap = this._nearestSnap(newX, newY);\n      this.currentPage = snap;\n      time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n      newX = snap.x;\n      newY = snap.y;\n\n      this.directionX = 0;\n      this.directionY = 0;\n      easing = this.options.snap.easing || ease.bounce;\n    }\n\n    if (newX !== this.x || newY !== this.y) {\n      // change easing function when scroller goes out of the boundaries\n      if (newX > this.minScrollX || newX < this.maxScrollX || newY > this.minScrollY || newY < this.maxScrollY) {\n        easing = ease.swipeBounce;\n      }\n      this.scrollTo(newX, newY, time, easing);\n      return;\n    }\n\n    if (this.options.wheel) {\n      this.selectedIndex = Math.round(Math.abs(this.y / this.itemHeight));\n    }\n    this.trigger('scrollEnd', {\n      x: this.x,\n      y: this.y\n    });\n  };\n\n  BScroll.prototype._checkClick = function (e) {\n    // when in the process of pulling down, it should not prevent click\n    var preventClick = this.stopFromTransition && !this.pulling;\n    this.stopFromTransition = false;\n\n    // we scrolled less than 15 pixels\n    if (!this.moved) {\n      if (this.options.wheel) {\n        if (this.target && this.target.classList.contains(this.options.wheel.wheelWrapperClass)) {\n          var index = Math.abs(Math.round(this.y / this.itemHeight));\n          var _offset = Math.round((this.pointY + offsetToBody(this.wrapper).top - this.wrapperHeight / 2) / this.itemHeight);\n          this.target = this.items[index + _offset];\n        }\n        this.scrollToElement(this.target, this.options.wheel.adjustTime || 400, true, true, ease.swipe);\n        return true;\n      } else {\n        if (!preventClick) {\n          var _dblclick = this.options.dblclick;\n          var dblclickTrigged = false;\n          if (_dblclick && this.lastClickTime) {\n            var _dblclick$delay = _dblclick.delay,\n                delay = _dblclick$delay === undefined ? 300 : _dblclick$delay;\n\n            if (getNow() - this.lastClickTime < delay) {\n              dblclickTrigged = true;\n              dblclick(e);\n            }\n          }\n          if (this.options.tap) {\n            tap(e, this.options.tap);\n          }\n\n          if (this.options.click && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n            click(e);\n          }\n          this.lastClickTime = dblclickTrigged ? null : getNow();\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n\n  BScroll.prototype._resize = function () {\n    var _this = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    // fix a scroll problem under Android condition\n    if (isAndroid) {\n      this.wrapper.scrollTop = 0;\n    }\n    clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = setTimeout(function () {\n      _this.refresh();\n    }, this.options.resizePolling);\n  };\n\n  BScroll.prototype._startProbe = function () {\n    cancelAnimationFrame(this.probeTimer);\n    this.probeTimer = requestAnimationFrame(probe);\n\n    var me = this;\n\n    function probe() {\n      var pos = me.getComputedPosition();\n      me.trigger('scroll', pos);\n      if (!me.isInTransition) {\n        me.trigger('scrollEnd', pos);\n        return;\n      }\n      me.probeTimer = requestAnimationFrame(probe);\n    }\n  };\n\n  BScroll.prototype._transitionTime = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    this.scrollerStyle[style.transitionDuration] = time + 'ms';\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionDuration] = time + 'ms';\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i = 0; _i < this.indicators.length; _i++) {\n        this.indicators[_i].transitionTime(time);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionTimingFunction = function (easing) {\n    this.scrollerStyle[style.transitionTimingFunction] = easing;\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionTimingFunction] = easing;\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i2 = 0; _i2 < this.indicators.length; _i2++) {\n        this.indicators[_i2].transitionTimingFunction(easing);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionEnd = function (e) {\n    if (e.target !== this.scroller || !this.isInTransition) {\n      return;\n    }\n\n    this._transitionTime();\n    var needReset = !this.pulling || this.movingDirectionY === DIRECTION_UP;\n    if (needReset && !this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      this.isInTransition = false;\n      if (this.options.probeType !== PROBE_REALTIME) {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n  };\n\n  BScroll.prototype._translate = function (x, y, scale) {\n    assert(!isUndef(x) && !isUndef(y), 'Translate x or y is null or undefined.');\n    if (isUndef(scale)) {\n      scale = this.scale;\n    }\n    if (this.options.useTransform) {\n      this.scrollerStyle[style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + scale + ')' + this.translateZ;\n    } else {\n      x = Math.round(x);\n      y = Math.round(y);\n      this.scrollerStyle.left = x + 'px';\n      this.scrollerStyle.top = y + 'px';\n    }\n\n    if (this.options.wheel) {\n      var _options$wheel$rotate = this.options.wheel.rotate,\n          rotate = _options$wheel$rotate === undefined ? 25 : _options$wheel$rotate;\n\n      for (var i = 0; i < this.items.length; i++) {\n        var deg = rotate * (y / this.itemHeight + i);\n        this.items[i].style[style.transform] = 'rotateX(' + deg + 'deg)';\n      }\n    }\n\n    this.x = x;\n    this.y = y;\n    this.setScale(scale);\n\n    if (this.indicators) {\n      for (var _i3 = 0; _i3 < this.indicators.length; _i3++) {\n        this.indicators[_i3].updatePosition();\n      }\n    }\n  };\n\n  BScroll.prototype._animate = function (destX, destY, duration, easingFn) {\n    var me = this;\n    var startX = this.x;\n    var startY = this.y;\n    var startScale = this.lastScale;\n    var destScale = this.scale;\n    var startTime = getNow();\n    var destTime = startTime + duration;\n\n    function step() {\n      var now = getNow();\n\n      if (now >= destTime) {\n        me.isAnimating = false;\n        me._translate(destX, destY, destScale);\n\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n\n        if (!me.pulling && !me.resetPosition(me.options.bounceTime)) {\n          me.trigger('scrollEnd', {\n            x: me.x,\n            y: me.y\n          });\n        }\n        return;\n      }\n      now = (now - startTime) / duration;\n      var easing = easingFn(now);\n      var newX = (destX - startX) * easing + startX;\n      var newY = (destY - startY) * easing + startY;\n      var newScale = (destScale - startScale) * easing + startScale;\n\n      me._translate(newX, newY, newScale);\n\n      if (me.isAnimating) {\n        me.animateTimer = requestAnimationFrame(step);\n      }\n\n      if (me.options.probeType === PROBE_REALTIME) {\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n      }\n    }\n\n    this.isAnimating = true;\n    cancelAnimationFrame(this.animateTimer);\n    step();\n  };\n\n  BScroll.prototype.scrollBy = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    x = this.x + x;\n    y = this.y + y;\n\n    this.scrollTo(x, y, time, easing);\n  };\n\n  BScroll.prototype.scrollTo = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    this.isInTransition = this.options.useTransition && time > 0 && (x !== this.x || y !== this.y);\n\n    if (!time || this.options.useTransition) {\n      this._transitionTimingFunction(easing.style);\n      this._transitionTime(time);\n      this._translate(x, y);\n\n      if (time && this.options.probeType === PROBE_REALTIME) {\n        this._startProbe();\n      }\n\n      if (!time && (x !== this.x || y !== this.y)) {\n        this.trigger('scroll', {\n          x: x,\n          y: y\n        });\n        // force reflow to put everything in position\n        this._reflow = document.body.offsetHeight;\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\n          this.trigger('scrollEnd', {\n            x: x,\n            y: y\n          });\n        }\n      }\n\n      if (this.options.wheel) {\n        if (y > this.minScrollY) {\n          this.selectedIndex = 0;\n        } else if (y < this.maxScrollY) {\n          this.selectedIndex = this.items.length - 1;\n        } else {\n          this.selectedIndex = Math.round(Math.abs(y / this.itemHeight));\n        }\n      }\n    } else {\n      this._animate(x, y, time, easing.fn);\n    }\n  };\n\n  BScroll.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\n    if (!el) {\n      return;\n    }\n    el = el.nodeType ? el : this.scroller.querySelector(el);\n\n    if (this.options.wheel && !el.classList.contains(this.options.wheel.wheelItemClass)) {\n      return;\n    }\n\n    var pos = offset(el);\n    pos.left -= this.wrapperOffset.left;\n    pos.top -= this.wrapperOffset.top;\n\n    // if offsetX/Y are true we center the element to the screen\n    if (offsetX === true) {\n      offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n    }\n    if (offsetY === true) {\n      offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n    }\n\n    pos.left -= offsetX || 0;\n    pos.top -= offsetY || 0;\n    pos.left = pos.left > this.minScrollX ? this.minScrollX : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n    pos.top = pos.top > this.minScrollY ? this.minScrollY : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n    if (this.options.wheel) {\n      pos.top = Math.round(pos.top / this.itemHeight) * this.itemHeight;\n    }\n\n    this.scrollTo(pos.left, pos.top, time, easing);\n  };\n\n  BScroll.prototype.resetPosition = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var easeing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ease.bounce;\n\n    var x = this.x;\n    var roundX = Math.round(x);\n    if (!this.hasHorizontalScroll || roundX > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (roundX < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    var y = this.y;\n    var roundY = Math.round(y);\n    if (!this.hasVerticalScroll || roundY > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (roundY < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    if (x === this.x && y === this.y) {\n      return false;\n    }\n\n    this.scrollTo(x, y, time, easeing);\n\n    return true;\n  };\n\n  BScroll.prototype.getComputedPosition = function () {\n    var matrix = window.getComputedStyle(this.scroller, null);\n    var x = void 0;\n    var y = void 0;\n\n    if (this.options.useTransform) {\n      matrix = matrix[style.transform].split(')')[0].split(', ');\n      x = +(matrix[12] || matrix[4]);\n      y = +(matrix[13] || matrix[5]);\n    } else {\n      x = +matrix.left.replace(/[^-\\d.]/g, '');\n      y = +matrix.top.replace(/[^-\\d.]/g, '');\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  BScroll.prototype.stop = function () {\n    if (this.options.useTransition && this.isInTransition) {\n      this.isInTransition = false;\n      cancelAnimationFrame(this.probeTimer);\n      var pos = this.getComputedPosition();\n      this._translate(pos.x, pos.y);\n      if (this.options.wheel) {\n        this.target = this.items[Math.round(-pos.y / this.itemHeight)];\n      } else {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n      this.stopFromTransition = true;\n    } else if (!this.options.useTransition && this.isAnimating) {\n      this.isAnimating = false;\n      cancelAnimationFrame(this.animateTimer);\n      this.trigger('scrollEnd', {\n        x: this.x,\n        y: this.y\n      });\n      this.stopFromTransition = true;\n    }\n  };\n\n  BScroll.prototype.destroy = function () {\n    this.destroyed = true;\n    this.trigger('destroy');\n    if (this.options.useTransition) {\n      cancelAnimationFrame(this.probeTimer);\n    } else {\n      cancelAnimationFrame(this.animateTimer);\n    }\n    this._removeDOMEvents();\n    // remove custom events\n    this._events = {};\n  };\n}\n\nfunction snapMixin(BScroll) {\n  BScroll.prototype._initSnap = function () {\n    var _this = this;\n\n    this.currentPage = {};\n    var snap = this.options.snap;\n\n    if (snap.loop) {\n      var children = this.scroller.children;\n      if (children.length > 1) {\n        prepend(children[children.length - 1].cloneNode(true), this.scroller);\n        this.scroller.appendChild(children[1].cloneNode(true));\n      } else {\n        // Loop does not make any sense if there is only one child.\n        snap.loop = false;\n      }\n    }\n\n    var el = snap.el;\n    if (typeof el === 'string') {\n      el = this.scroller.querySelectorAll(el);\n    }\n\n    this.on('refresh', function () {\n      _this.pages = [];\n\n      if (!_this.wrapperWidth || !_this.wrapperHeight || !_this.scrollerWidth || !_this.scrollerHeight) {\n        return;\n      }\n\n      var stepX = snap.stepX || _this.wrapperWidth;\n      var stepY = snap.stepY || _this.wrapperHeight;\n\n      var x = 0;\n      var y = void 0;\n      var cx = void 0;\n      var cy = void 0;\n      var i = 0;\n      var l = void 0;\n      var m = 0;\n      var n = void 0;\n      var rect = void 0;\n      if (!el) {\n        cx = Math.round(stepX / 2);\n        cy = Math.round(stepY / 2);\n\n        while (x > -_this.scrollerWidth) {\n          _this.pages[i] = [];\n          l = 0;\n          y = 0;\n\n          while (y > -_this.scrollerHeight) {\n            _this.pages[i][l] = {\n              x: Math.max(x, _this.maxScrollX),\n              y: Math.max(y, _this.maxScrollY),\n              width: stepX,\n              height: stepY,\n              cx: x - cx,\n              cy: y - cy\n            };\n\n            y -= stepY;\n            l++;\n          }\n\n          x -= stepX;\n          i++;\n        }\n      } else {\n        l = el.length;\n        n = -1;\n\n        for (; i < l; i++) {\n          rect = getRect(el[i]);\n          if (i === 0 || rect.left <= getRect(el[i - 1]).left) {\n            m = 0;\n            n++;\n          }\n\n          if (!_this.pages[m]) {\n            _this.pages[m] = [];\n          }\n\n          x = Math.max(-rect.left, _this.maxScrollX);\n          y = Math.max(-rect.top, _this.maxScrollY);\n          cx = x - Math.round(rect.width / 2);\n          cy = y - Math.round(rect.height / 2);\n\n          _this.pages[m][n] = {\n            x: x,\n            y: y,\n            width: rect.width,\n            height: rect.height,\n            cx: cx,\n            cy: cy\n          };\n\n          if (x > _this.maxScrollX) {\n            m++;\n          }\n        }\n      }\n\n      _this._checkSnapLoop();\n\n      var initPageX = snap._loopX ? 1 : 0;\n      var initPageY = snap._loopY ? 1 : 0;\n      _this._goToPage(_this.currentPage.pageX || initPageX, _this.currentPage.pageY || initPageY, 0);\n\n      // Update snap threshold if needed.\n      var snapThreshold = snap.threshold;\n      if (snapThreshold % 1 === 0) {\n        _this.snapThresholdX = snapThreshold;\n        _this.snapThresholdY = snapThreshold;\n      } else {\n        _this.snapThresholdX = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].width * snapThreshold);\n        _this.snapThresholdY = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].height * snapThreshold);\n      }\n    });\n\n    this.on('scrollEnd', function () {\n      if (snap.loop) {\n        if (snap._loopX) {\n          if (_this.currentPage.pageX === 0) {\n            _this._goToPage(_this.pages.length - 2, _this.currentPage.pageY, 0);\n          }\n          if (_this.currentPage.pageX === _this.pages.length - 1) {\n            _this._goToPage(1, _this.currentPage.pageY, 0);\n          }\n        } else {\n          if (_this.currentPage.pageY === 0) {\n            _this._goToPage(_this.currentPage.pageX, _this.pages[0].length - 2, 0);\n          }\n          if (_this.currentPage.pageY === _this.pages[0].length - 1) {\n            _this._goToPage(_this.currentPage.pageX, 1, 0);\n          }\n        }\n      }\n    });\n\n    if (snap.listenFlick !== false) {\n      this.on('flick', function () {\n        var time = snap.speed || Math.max(Math.max(Math.min(Math.abs(_this.x - _this.startX), 1000), Math.min(Math.abs(_this.y - _this.startY), 1000)), 300);\n\n        _this._goToPage(_this.currentPage.pageX + _this.directionX, _this.currentPage.pageY + _this.directionY, time);\n      });\n    }\n\n    this.on('destroy', function () {\n      if (snap.loop) {\n        var _children = _this.scroller.children;\n        if (_children.length > 2) {\n          removeChild(_this.scroller, _children[_children.length - 1]);\n          removeChild(_this.scroller, _children[0]);\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._checkSnapLoop = function () {\n    var snap = this.options.snap;\n\n    if (!snap.loop || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (this.pages.length > 1) {\n      snap._loopX = true;\n    }\n    if (this.pages[0] && this.pages[0].length > 1) {\n      snap._loopY = true;\n    }\n    if (snap._loopX && snap._loopY) {\n      warn('Loop does not support two direction at the same time.');\n    }\n  };\n\n  BScroll.prototype._nearestSnap = function (x, y) {\n    if (!this.pages.length) {\n      return { x: 0, y: 0, pageX: 0, pageY: 0 };\n    }\n\n    var i = 0;\n    // Check if we exceeded the snap threshold\n    if (Math.abs(x - this.absStartX) <= this.snapThresholdX && Math.abs(y - this.absStartY) <= this.snapThresholdY) {\n      return this.currentPage;\n    }\n\n    if (x > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (x < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    if (y > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (y < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    var l = this.pages.length;\n    for (; i < l; i++) {\n      if (x >= this.pages[i][0].cx) {\n        x = this.pages[i][0].x;\n        break;\n      }\n    }\n\n    l = this.pages[i].length;\n\n    var m = 0;\n    for (; m < l; m++) {\n      if (y >= this.pages[0][m].cy) {\n        y = this.pages[0][m].y;\n        break;\n      }\n    }\n\n    if (i === this.currentPage.pageX) {\n      i += this.directionX;\n\n      if (i < 0) {\n        i = 0;\n      } else if (i >= this.pages.length) {\n        i = this.pages.length - 1;\n      }\n\n      x = this.pages[i][0].x;\n    }\n\n    if (m === this.currentPage.pageY) {\n      m += this.directionY;\n\n      if (m < 0) {\n        m = 0;\n      } else if (m >= this.pages[0].length) {\n        m = this.pages[0].length - 1;\n      }\n\n      y = this.pages[0][m].y;\n    }\n\n    return {\n      x: x,\n      y: y,\n      pageX: i,\n      pageY: m\n    };\n  };\n\n  BScroll.prototype._goToPage = function (x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var time = arguments[2];\n    var easing = arguments[3];\n\n    var snap = this.options.snap;\n\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    easing = easing || snap.easing || ease.bounce;\n\n    if (x >= this.pages.length) {\n      x = this.pages.length - 1;\n    } else if (x < 0) {\n      x = 0;\n    }\n\n    if (!this.pages[x]) {\n      return;\n    }\n\n    if (y >= this.pages[x].length) {\n      y = this.pages[x].length - 1;\n    } else if (y < 0) {\n      y = 0;\n    }\n\n    var posX = this.pages[x][y].x;\n    var posY = this.pages[x][y].y;\n\n    time = time === undefined ? snap.speed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n\n    this.currentPage = {\n      x: posX,\n      y: posY,\n      pageX: x,\n      pageY: y\n    };\n    this.scrollTo(posX, posY, time, easing);\n  };\n\n  BScroll.prototype.goToPage = function (x, y, time, easing) {\n    var snap = this.options.snap;\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (snap.loop) {\n      var len = void 0;\n      if (snap._loopX) {\n        len = this.pages.length - 2;\n        if (x >= len) {\n          x = len - 1;\n        } else if (x < 0) {\n          x = 0;\n        }\n        x += 1;\n      } else {\n        len = this.pages[0].length - 2;\n        if (y >= len) {\n          y = len - 1;\n        } else if (y < 0) {\n          y = 0;\n        }\n        y += 1;\n      }\n    }\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.next = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x++;\n    if (x >= this.pages.length && this.hasVerticalScroll) {\n      x = 0;\n      y++;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.prev = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x--;\n    if (x < 0 && this.hasVerticalScroll) {\n      x = 0;\n      y--;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.getCurrentPage = function () {\n    var snap = this.options.snap;\n    if (!snap) {\n      return null;\n    }\n\n    if (snap.loop) {\n      var currentPage = void 0;\n      if (snap._loopX) {\n        currentPage = extend({}, this.currentPage, {\n          pageX: this.currentPage.pageX - 1\n        });\n      } else {\n        currentPage = extend({}, this.currentPage, {\n          pageY: this.currentPage.pageY - 1\n        });\n      }\n      return currentPage;\n    }\n    return this.currentPage;\n  };\n}\n\nfunction wheelMixin(BScroll) {\n  BScroll.prototype.wheelTo = function () {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (this.options.wheel) {\n      this.y = -index * this.itemHeight;\n      this.scrollTo(0, this.y);\n    }\n  };\n\n  BScroll.prototype.getSelectedIndex = function () {\n    return this.options.wheel && this.selectedIndex;\n  };\n\n  BScroll.prototype._initWheel = function () {\n    var wheel = this.options.wheel;\n    if (!wheel.wheelWrapperClass) {\n      wheel.wheelWrapperClass = 'wheel-scroll';\n    }\n    if (!wheel.wheelItemClass) {\n      wheel.wheelItemClass = 'wheel-item';\n    }\n    if (wheel.selectedIndex === undefined) {\n      wheel.selectedIndex = 0;\n      warn('wheel option selectedIndex is required!');\n    }\n  };\n}\n\nvar INDICATOR_MIN_LEN = 8;\n\nfunction scrollbarMixin(BScroll) {\n  BScroll.prototype._initScrollbar = function () {\n    var _this = this;\n\n    var _options$scrollbar = this.options.scrollbar,\n        _options$scrollbar$fa = _options$scrollbar.fade,\n        fade = _options$scrollbar$fa === undefined ? true : _options$scrollbar$fa,\n        _options$scrollbar$in = _options$scrollbar.interactive,\n        interactive = _options$scrollbar$in === undefined ? false : _options$scrollbar$in;\n\n    this.indicators = [];\n    var indicator = void 0;\n\n    if (this.options.scrollX) {\n      indicator = {\n        el: createScrollbar('horizontal'),\n        direction: 'horizontal',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    if (this.options.scrollY) {\n      indicator = {\n        el: createScrollbar('vertical'),\n        direction: 'vertical',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    this.on('refresh', function () {\n      for (var i = 0; i < _this.indicators.length; i++) {\n        _this.indicators[i].refresh();\n      }\n    });\n\n    if (fade) {\n      this.on('scrollEnd', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollCancel', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true);\n        }\n      });\n\n      this.on('beforeScrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true, true);\n        }\n      });\n    }\n\n    this.on('destroy', function () {\n      _this._removeScrollBars();\n    });\n  };\n\n  BScroll.prototype._insertScrollBar = function (scrollbar) {\n    this.wrapper.appendChild(scrollbar);\n  };\n\n  BScroll.prototype._removeScrollBars = function () {\n    for (var i = 0; i < this.indicators.length; i++) {\n      this.indicators[i].destroy();\n    }\n  };\n}\n\nfunction createScrollbar(direction) {\n  var scrollbar = document.createElement('div');\n  var indicator = document.createElement('div');\n\n  scrollbar.style.cssText = 'position:absolute;z-index:9999;pointerEvents:none';\n  indicator.style.cssText = 'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\n\n  indicator.className = 'bscroll-indicator';\n\n  if (direction === 'horizontal') {\n    scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n    indicator.style.height = '100%';\n    scrollbar.className = 'bscroll-horizontal-scrollbar';\n  } else {\n    scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n    indicator.style.width = '100%';\n    scrollbar.className = 'bscroll-vertical-scrollbar';\n  }\n\n  scrollbar.style.cssText += ';overflow:hidden';\n  scrollbar.appendChild(indicator);\n\n  return scrollbar;\n}\n\nfunction Indicator(scroller, options) {\n  this.wrapper = options.el;\n  this.wrapperStyle = this.wrapper.style;\n  this.indicator = this.wrapper.children[0];\n  this.indicatorStyle = this.indicator.style;\n  this.scroller = scroller;\n  this.direction = options.direction;\n  if (options.fade) {\n    this.visible = 0;\n    this.wrapperStyle.opacity = '0';\n  } else {\n    this.visible = 1;\n  }\n\n  this.sizeRatioX = 1;\n  this.sizeRatioY = 1;\n  this.maxPosX = 0;\n  this.maxPosY = 0;\n  this.x = 0;\n  this.y = 0;\n\n  if (options.interactive) {\n    this._addDOMEvents();\n  }\n}\n\nIndicator.prototype.handleEvent = function (e) {\n  switch (e.type) {\n    case 'touchstart':\n    case 'mousedown':\n      this._start(e);\n      break;\n    case 'touchmove':\n    case 'mousemove':\n      this._move(e);\n      break;\n    case 'touchend':\n    case 'mouseup':\n    case 'touchcancel':\n    case 'mousecancel':\n      this._end(e);\n      break;\n  }\n};\n\nIndicator.prototype.refresh = function () {\n  if (this._shouldShow()) {\n    this.transitionTime();\n    this._calculate();\n    this.updatePosition();\n  }\n};\n\nIndicator.prototype.fade = function (visible, hold) {\n  var _this2 = this;\n\n  if (hold && !this.visible) {\n    return;\n  }\n\n  var time = visible ? 250 : 500;\n\n  visible = visible ? '1' : '0';\n\n  this.wrapperStyle[style.transitionDuration] = time + 'ms';\n\n  clearTimeout(this.fadeTimeout);\n  this.fadeTimeout = setTimeout(function () {\n    _this2.wrapperStyle.opacity = visible;\n    _this2.visible = +visible;\n  }, 0);\n};\n\nIndicator.prototype.updatePosition = function () {\n  if (this.direction === 'vertical') {\n    var y = Math.round(this.sizeRatioY * this.scroller.y);\n\n    if (y < 0) {\n      this.transitionTime(500);\n      var height = Math.max(this.indicatorHeight + y * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = height + 'px';\n      y = 0;\n    } else if (y > this.maxPosY) {\n      this.transitionTime(500);\n      var _height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = _height + 'px';\n      y = this.maxPosY + this.indicatorHeight - _height;\n    } else {\n      this.indicatorStyle.height = this.indicatorHeight + 'px';\n    }\n    this.y = y;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateY(' + y + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.top = y + 'px';\n    }\n  } else {\n    var x = Math.round(this.sizeRatioX * this.scroller.x);\n\n    if (x < 0) {\n      this.transitionTime(500);\n      var width = Math.max(this.indicatorWidth + x * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = width + 'px';\n      x = 0;\n    } else if (x > this.maxPosX) {\n      this.transitionTime(500);\n      var _width = Math.max(this.indicatorWidth - (x - this.maxPosX) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = _width + 'px';\n      x = this.maxPosX + this.indicatorWidth - _width;\n    } else {\n      this.indicatorStyle.width = this.indicatorWidth + 'px';\n    }\n\n    this.x = x;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateX(' + x + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.left = x + 'px';\n    }\n  }\n};\n\nIndicator.prototype.transitionTime = function () {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  this.indicatorStyle[style.transitionDuration] = time + 'ms';\n};\n\nIndicator.prototype.transitionTimingFunction = function (easing) {\n  this.indicatorStyle[style.transitionTimingFunction] = easing;\n};\n\nIndicator.prototype.destroy = function () {\n  this._removeDOMEvents();\n  this.wrapper.parentNode.removeChild(this.wrapper);\n};\n\nIndicator.prototype._start = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this.transitionTime();\n\n  this.initiated = true;\n  this.moved = false;\n  this.lastPointX = point.pageX;\n  this.lastPointY = point.pageY;\n\n  this.startTime = getNow();\n\n  this._handleMoveEvents(addEvent);\n  this.scroller.trigger('beforeScrollStart');\n};\n\nIndicator.prototype._move = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (!this.moved) {\n    this.scroller.trigger('scrollStart');\n  }\n\n  this.moved = true;\n\n  var deltaX = point.pageX - this.lastPointX;\n  this.lastPointX = point.pageX;\n\n  var deltaY = point.pageY - this.lastPointY;\n  this.lastPointY = point.pageY;\n\n  var newX = this.x + deltaX;\n  var newY = this.y + deltaY;\n\n  this._pos(newX, newY);\n};\n\nIndicator.prototype._end = function (e) {\n  if (!this.initiated) {\n    return;\n  }\n  this.initiated = false;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this._handleMoveEvents(removeEvent);\n\n  var snapOption = this.scroller.options.snap;\n  if (snapOption) {\n    var speed = snapOption.speed,\n        _snapOption$easing = snapOption.easing,\n        easing = _snapOption$easing === undefined ? ease.bounce : _snapOption$easing;\n\n    var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n    var time = speed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n    if (this.scroller.x !== snap.x || this.scroller.y !== snap.y) {\n      this.scroller.directionX = 0;\n      this.scroller.directionY = 0;\n      this.scroller.currentPage = snap;\n      this.scroller.scrollTo(snap.x, snap.y, time, easing);\n    }\n  }\n\n  if (this.moved) {\n    this.scroller.trigger('scrollEnd', {\n      x: this.scroller.x,\n      y: this.scroller.y\n    });\n  }\n};\n\nIndicator.prototype._pos = function (x, y) {\n  if (x < 0) {\n    x = 0;\n  } else if (x > this.maxPosX) {\n    x = this.maxPosX;\n  }\n\n  if (y < 0) {\n    y = 0;\n  } else if (y > this.maxPosY) {\n    y = this.maxPosY;\n  }\n\n  x = Math.round(x / this.sizeRatioX);\n  y = Math.round(y / this.sizeRatioY);\n\n  this.scroller.scrollTo(x, y);\n  this.scroller.trigger('scroll', {\n    x: this.scroller.x,\n    y: this.scroller.y\n  });\n};\n\nIndicator.prototype._shouldShow = function () {\n  if (this.direction === 'vertical' && this.scroller.hasVerticalScroll || this.direction === 'horizontal' && this.scroller.hasHorizontalScroll) {\n    this.wrapper.style.display = '';\n    return true;\n  }\n  this.wrapper.style.display = 'none';\n  return false;\n};\n\nIndicator.prototype._calculate = function () {\n  if (this.direction === 'vertical') {\n    var wrapperHeight = this.wrapper.clientHeight;\n    this.indicatorHeight = Math.max(Math.round(wrapperHeight * wrapperHeight / (this.scroller.scrollerHeight || wrapperHeight || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.height = this.indicatorHeight + 'px';\n\n    this.maxPosY = wrapperHeight - this.indicatorHeight;\n\n    this.sizeRatioY = this.maxPosY / this.scroller.maxScrollY;\n  } else {\n    var wrapperWidth = this.wrapper.clientWidth;\n    this.indicatorWidth = Math.max(Math.round(wrapperWidth * wrapperWidth / (this.scroller.scrollerWidth || wrapperWidth || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.width = this.indicatorWidth + 'px';\n\n    this.maxPosX = wrapperWidth - this.indicatorWidth;\n\n    this.sizeRatioX = this.maxPosX / this.scroller.maxScrollX;\n  }\n};\n\nIndicator.prototype._addDOMEvents = function () {\n  var eventOperation = addEvent;\n  this._handleDOMEvents(eventOperation);\n};\n\nIndicator.prototype._removeDOMEvents = function () {\n  var eventOperation = removeEvent;\n  this._handleDOMEvents(eventOperation);\n  this._handleMoveEvents(eventOperation);\n};\n\nIndicator.prototype._handleMoveEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(window, 'touchmove', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(window, 'mousemove', this);\n  }\n};\n\nIndicator.prototype._handleDOMEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(this.indicator, 'touchstart', this);\n    eventOperation(window, 'touchend', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(this.indicator, 'mousedown', this);\n    eventOperation(window, 'mouseup', this);\n  }\n};\n\nfunction pullDownMixin(BScroll) {\n  BScroll.prototype._initPullDown = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n  };\n\n  BScroll.prototype._checkPullDown = function () {\n    var _options$pullDownRefr = this.options.pullDownRefresh,\n        _options$pullDownRefr2 = _options$pullDownRefr.threshold,\n        threshold = _options$pullDownRefr2 === undefined ? 90 : _options$pullDownRefr2,\n        _options$pullDownRefr3 = _options$pullDownRefr.stop,\n        stop = _options$pullDownRefr3 === undefined ? 40 : _options$pullDownRefr3;\n\n    // check if a real pull down action\n\n    if (this.directionY !== DIRECTION_DOWN || this.y < threshold) {\n      return false;\n    }\n\n    if (!this.pulling) {\n      this.pulling = true;\n      this.trigger('pullingDown');\n    }\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n\n    return this.pulling;\n  };\n\n  BScroll.prototype.finishPullDown = function () {\n    this.pulling = false;\n    this.resetPosition(this.options.bounceTime, ease.bounce);\n  };\n\n  BScroll.prototype.openPullDown = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullDownRefresh = config;\n    this._initPullDown();\n  };\n\n  BScroll.prototype.closePullDown = function () {\n    this.options.pullDownRefresh = false;\n  };\n}\n\nfunction pullUpMixin(BScroll) {\n  BScroll.prototype._initPullUp = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n\n    this.pullupWatching = false;\n    this._watchPullUp();\n  };\n\n  BScroll.prototype._watchPullUp = function () {\n    if (this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = true;\n    this.on('scroll', this._checkToEnd);\n  };\n\n  BScroll.prototype._checkToEnd = function (pos) {\n    var _this = this;\n\n    var _options$pullUpLoad$t = this.options.pullUpLoad.threshold,\n        threshold = _options$pullUpLoad$t === undefined ? 0 : _options$pullUpLoad$t;\n\n    if (this.movingDirectionY === DIRECTION_UP && pos.y <= this.maxScrollY + threshold) {\n      // reset pullupWatching status after scroll end.\n      this.once('scrollEnd', function () {\n        _this.pullupWatching = false;\n      });\n      this.trigger('pullingUp');\n      this.off('scroll', this._checkToEnd);\n    }\n  };\n\n  BScroll.prototype.finishPullUp = function () {\n    var _this2 = this;\n\n    if (this.pullupWatching) {\n      this.once('scrollEnd', function () {\n        _this2._watchPullUp();\n      });\n    } else {\n      this._watchPullUp();\n    }\n  };\n\n  BScroll.prototype.openPullUp = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullUpLoad = config;\n    this._initPullUp();\n  };\n\n  BScroll.prototype.closePullUp = function () {\n    this.options.pullUpLoad = false;\n    if (!this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = false;\n    this.off('scroll', this._checkToEnd);\n  };\n}\n\nfunction mouseWheelMixin(BScroll) {\n  BScroll.prototype._initMouseWheel = function () {\n    var _this = this;\n\n    this._handleMouseWheelEvent(addEvent);\n\n    this.on('destroy', function () {\n      clearTimeout(_this.mouseWheelTimer);\n      clearTimeout(_this.mouseWheelEndTimer);\n      _this._handleMouseWheelEvent(removeEvent);\n    });\n\n    this.firstWheelOpreation = true;\n  };\n\n  BScroll.prototype._handleMouseWheelEvent = function (eventOperation) {\n    eventOperation(this.wrapper, 'wheel', this);\n    eventOperation(this.wrapper, 'mousewheel', this);\n    eventOperation(this.wrapper, 'DOMMouseScroll', this);\n  };\n\n  BScroll.prototype._onMouseWheel = function (e) {\n    var _this2 = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (this.firstWheelOpreation) {\n      this.trigger('scrollStart');\n    }\n    this.firstWheelOpreation = false;\n\n    var _options$mouseWheel = this.options.mouseWheel,\n        _options$mouseWheel$s = _options$mouseWheel.speed,\n        speed = _options$mouseWheel$s === undefined ? 20 : _options$mouseWheel$s,\n        _options$mouseWheel$i = _options$mouseWheel.invert,\n        invert = _options$mouseWheel$i === undefined ? false : _options$mouseWheel$i,\n        _options$mouseWheel$e = _options$mouseWheel.easeTime,\n        easeTime = _options$mouseWheel$e === undefined ? 300 : _options$mouseWheel$e;\n\n\n    clearTimeout(this.mouseWheelTimer);\n    this.mouseWheelTimer = setTimeout(function () {\n      if (!_this2.options.snap && !easeTime) {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }\n      _this2.firstWheelOpreation = true;\n    }, 400);\n\n    var wheelDeltaX = void 0;\n    var wheelDeltaY = void 0;\n\n    switch (true) {\n      case 'deltaX' in e:\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * speed;\n          wheelDeltaY = -e.deltaY * speed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n        break;\n      case 'wheelDeltaX' in e:\n        wheelDeltaX = e.wheelDeltaX / 120 * speed;\n        wheelDeltaY = e.wheelDeltaY / 120 * speed;\n        break;\n      case 'wheelDelta' in e:\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * speed;\n        break;\n      case 'detail' in e:\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * speed;\n        break;\n      default:\n        return;\n    }\n\n    var direction = invert ? -1 : 1;\n    wheelDeltaX *= direction;\n    wheelDeltaY *= direction;\n\n    if (!this.hasVerticalScroll) {\n      wheelDeltaX = wheelDeltaY;\n      wheelDeltaY = 0;\n    }\n\n    var newX = void 0;\n    var newY = void 0;\n    if (this.options.snap) {\n      newX = this.currentPage.pageX;\n      newY = this.currentPage.pageY;\n\n      if (wheelDeltaX > 0) {\n        newX--;\n      } else if (wheelDeltaX < 0) {\n        newX++;\n      }\n\n      if (wheelDeltaY > 0) {\n        newY--;\n      } else if (wheelDeltaY < 0) {\n        newY++;\n      }\n\n      this._goToPage(newX, newY);\n      return;\n    }\n\n    newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n    newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n    this.movingDirectionX = this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n    this.movingDirectionY = this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    var needTriggerEnd = this.y === newY;\n    this.scrollTo(newX, newY, easeTime, ease.swipe);\n    this.trigger('scroll', {\n      x: this.x,\n      y: this.y\n    });\n    clearTimeout(this.mouseWheelEndTimer);\n    if (needTriggerEnd) {\n      this.mouseWheelEndTimer = setTimeout(function () {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }, easeTime);\n    }\n  };\n}\n\nfunction zoomMixin(BScroll) {\n  BScroll.prototype._initZoom = function () {\n    var _options$zoom = this.options.zoom,\n        _options$zoom$start = _options$zoom.start,\n        start = _options$zoom$start === undefined ? 1 : _options$zoom$start,\n        _options$zoom$min = _options$zoom.min,\n        min = _options$zoom$min === undefined ? 1 : _options$zoom$min,\n        _options$zoom$max = _options$zoom.max,\n        max = _options$zoom$max === undefined ? 4 : _options$zoom$max;\n\n    this.scale = Math.min(Math.max(start, min), max);\n    this.setScale(this.scale);\n    this.scrollerStyle[style.transformOrigin] = '0 0';\n  };\n\n  BScroll.prototype._zoomTo = function (scale, originX, originY, startScale) {\n    this.scaled = true;\n\n    var lastScale = scale / (startScale || this.scale);\n    this.setScale(scale);\n\n    this.refresh();\n\n    var newX = Math.round(this.startX - (originX - this.relativeX) * (lastScale - 1));\n    var newY = Math.round(this.startY - (originY - this.relativeY) * (lastScale - 1));\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    if (this.x !== newX || this.y !== newY) {\n      this.scrollTo(newX, newY, this.options.bounceTime);\n    }\n\n    this.scaled = false;\n  };\n\n  BScroll.prototype.zoomTo = function (scale, x, y) {\n    var _offsetToBody = offsetToBody(this.wrapper),\n        left = _offsetToBody.left,\n        top = _offsetToBody.top;\n\n    var originX = x + left - this.x;\n    var originY = y + top - this.y;\n    this._zoomTo(scale, originX, originY);\n  };\n\n  BScroll.prototype._zoomStart = function (e) {\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n\n    this.startDistance = getDistance(deltaX, deltaY);\n    this.startScale = this.scale;\n\n    var _offsetToBody2 = offsetToBody(this.wrapper),\n        left = _offsetToBody2.left,\n        top = _offsetToBody2.top;\n\n    this.originX = Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 + left - this.x;\n    this.originY = Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 + top - this.y;\n\n    this.trigger('zoomStart');\n  };\n\n  BScroll.prototype._zoom = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n    var distance = getDistance(deltaX, deltaY);\n    var scale = distance / this.startDistance * this.startScale;\n\n    this.scaled = true;\n\n    var _options$zoom2 = this.options.zoom,\n        _options$zoom2$min = _options$zoom2.min,\n        min = _options$zoom2$min === undefined ? 1 : _options$zoom2$min,\n        _options$zoom2$max = _options$zoom2.max,\n        max = _options$zoom2$max === undefined ? 4 : _options$zoom2$max;\n\n\n    if (scale < min) {\n      scale = 0.5 * min * Math.pow(2.0, scale / min);\n    } else if (scale > max) {\n      scale = 2.0 * max * Math.pow(0.5, max / scale);\n    }\n\n    var lastScale = scale / this.startScale;\n\n    var x = this.startX - (this.originX - this.relativeX) * (lastScale - 1);\n    var y = this.startY - (this.originY - this.relativeY) * (lastScale - 1);\n\n    this.setScale(scale);\n\n    this.scrollTo(x, y, 0);\n  };\n\n  BScroll.prototype._zoomEnd = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.isInTransition = false;\n    this.isAnimating = false;\n    this.initiated = 0;\n\n    var _options$zoom3 = this.options.zoom,\n        _options$zoom3$min = _options$zoom3.min,\n        min = _options$zoom3$min === undefined ? 1 : _options$zoom3$min,\n        _options$zoom3$max = _options$zoom3.max,\n        max = _options$zoom3$max === undefined ? 4 : _options$zoom3$max;\n\n\n    var scale = this.scale > max ? max : this.scale < min ? min : this.scale;\n\n    this._zoomTo(scale, this.originX, this.originY, this.startScale);\n\n    this.trigger('zoomEnd');\n  };\n}\n\n// import { ease } from '../util/ease'\n\n// Number of items to instantiate beyond current view in the scroll direction.\nvar RUNWAY_ITEMS = 30;\n\n// Number of items to instantiate beyond current view in the opposite direction.\nvar RUNWAY_ITEMS_OPPOSITE = 10;\n\n// The animation interval (in ms) for fading in content from tombstones.\nvar ANIMATION_DURATION_MS = 200;\n\n// The number of pixels of default additional length to allow scrolling to.\nvar DEFAULT_SCROLL_RUNWAY = 2000;\n\nfunction infiniteMixin(BScroll) {\n  BScroll.prototype._initInfinite = function () {\n    this.options.probeType = 3;\n    this.maxScrollY = -DEFAULT_SCROLL_RUNWAY;\n    this.infiniteScroller = new InfiniteScroller(this, this.options.infinity);\n  };\n}\n\nfunction isTombstoneNode(node) {\n  if (node && node.classList) {\n    return node.classList.contains('tombstone');\n  }\n}\n\nfunction InfiniteScroller(scroller, options) {\n  var _this = this;\n\n  this.options = options;\n  assert(typeof this.options.createTombstone === 'function', 'Infinite scroll need createTombstone Function to create tombstone');\n\n  assert(typeof this.options.fetch === 'function', 'Infinite scroll need fetch Function to fetch new data.');\n\n  assert(typeof this.options.render === 'function', 'Infinite scroll need render Function to render each item.');\n\n  this.firstAttachedItem = 0;\n  this.lastAttachedItem = 0;\n\n  this.anchorScrollTop = 0;\n  this.anchorItem = {\n    index: 0,\n    offset: 0\n  };\n  this.tombstoneHeight = 0;\n  this.tombstoneWidth = 0;\n  this.tombstones = [];\n  this.tombstonesAnimationHandlers = [];\n\n  this.items = [];\n  this.loadedItems = 0;\n  this.requestInProgress = false;\n  this.hasMore = true;\n\n  this.scroller = scroller;\n  this.wrapperEl = this.scroller.wrapper;\n  this.scrollerEl = this.scroller.scroller;\n  this.scroller.on('scroll', function () {\n    _this.onScroll();\n  });\n  this.scroller.on('resize', function () {\n    _this.onResize();\n  });\n  this.scroller.on('destroy', function () {\n    _this.destroy();\n  });\n\n  // wait scroll core init\n  this._onResizeHandler = setTimeout(function () {\n    _this.onResize();\n  });\n}\n\nInfiniteScroller.prototype.destroy = function () {\n  var _this2 = this;\n\n  // In extreme scene, destroy is triggered before _onResizeHandler\n  clearTimeout(this._onResizeHandler);\n  this.tombstonesAnimationHandlers.forEach(function (handler) {\n    clearTimeout(handler);\n  });\n  this.tombstonesAnimationHandlers = null;\n  this.items.forEach(function (item) {\n    if (item.node) {\n      _this2.scrollerEl.removeChild(item.node);\n      item.node = null;\n    }\n  });\n  this.scroller.infiniteScroller = null;\n  this.scroller = null;\n  this.wrapperEl = null;\n  this.scrollerEl = null;\n  this.items = null;\n  this.tombstones = null;\n};\n\nInfiniteScroller.prototype.onScroll = function () {\n  var scrollTop = -this.scroller.y;\n  var delta = scrollTop - this.anchorScrollTop;\n  if (scrollTop === 0) {\n    this.anchorItem = {\n      index: 0,\n      offset: 0\n    };\n  } else {\n    this.anchorItem = this._calculateAnchoredItem(this.anchorItem, delta);\n  }\n\n  this.anchorScrollTop = scrollTop;\n  var lastScreenItem = this._calculateAnchoredItem(this.anchorItem, this.scroller.wrapperHeight);\n\n  var start = this.anchorItem.index;\n  var end = lastScreenItem.index;\n  if (delta < 0) {\n    start -= RUNWAY_ITEMS;\n    end += RUNWAY_ITEMS_OPPOSITE;\n  } else {\n    start -= RUNWAY_ITEMS_OPPOSITE;\n    end += RUNWAY_ITEMS;\n  }\n  this.fill(start, end);\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.onResize = function () {\n  var tombstone = this.options.createTombstone();\n  tombstone.style.position = 'absolute';\n  this.scrollerEl.appendChild(tombstone);\n  tombstone.style.display = '';\n  this.tombstoneHeight = tombstone.offsetHeight;\n  this.tombstoneWidth = tombstone.offsetWidth;\n  this.scrollerEl.removeChild(tombstone);\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.items[i].height = this.items[i].width = 0;\n  }\n\n  this.onScroll();\n};\n\nInfiniteScroller.prototype.fill = function (start, end) {\n  this.firstAttachedItem = Math.max(0, start);\n  if (!this.hasMore) {\n    end = Math.min(end, this.items.length);\n  }\n  this.lastAttachedItem = end;\n  this.attachContent();\n};\n\nInfiniteScroller.prototype.maybeRequestContent = function () {\n  var _this3 = this;\n\n  if (this.requestInProgress || !this.hasMore) {\n    return;\n  }\n  var itemsNeeded = this.lastAttachedItem - this.loadedItems;\n  if (itemsNeeded <= 0) {\n    return;\n  }\n  this.requestInProgress = true;\n  this.options.fetch(itemsNeeded).then(function (items) {\n    _this3.requestInProgress = false;\n    if (items) {\n      _this3.addContent(items);\n    } else {\n      _this3.hasMore = false;\n      var tombstoneLen = _this3._removeTombstones();\n      var curPos = 0;\n      if (_this3.anchorItem.index <= _this3.items.length) {\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.resetPosition(_this3.scroller.options.bounceTime);\n      } else {\n        _this3.anchorItem.index -= tombstoneLen;\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.stop();\n        _this3.scroller.resetPosition();\n        _this3.onScroll();\n      }\n    }\n  });\n};\n\nInfiniteScroller.prototype.addContent = function (items) {\n  for (var i = 0; i < items.length; i++) {\n    if (this.items.length <= this.loadedItems) {\n      this._addItem();\n    }\n    this.items[this.loadedItems++].data = items[i];\n  }\n  this.attachContent();\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.attachContent = function () {\n  var unusedNodes = this._collectUnusedNodes();\n  var tombstoneAnimations = this._createDOMNodes(unusedNodes);\n  this._cleanupUnusedNodes(unusedNodes);\n  this._cacheNodeSize();\n  var curPos = this._fixScrollPosition();\n  this._setupAnimations(tombstoneAnimations, curPos);\n};\n\nInfiniteScroller.prototype.resetMore = function () {\n  this.hasMore = true;\n};\n\nInfiniteScroller.prototype._removeTombstones = function () {\n  var markIndex = void 0;\n  var tombstoneLen = 0;\n  var itemLen = this.items.length;\n  for (var i = 0; i < itemLen; i++) {\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if ((!currentNode || isTombstoneNode(currentNode)) && !currentData) {\n      // 0 should be excluded\n      if (markIndex === void 0) {\n        markIndex = i;\n      }\n      if (currentNode) {\n        this.scrollerEl.removeChild(currentNode);\n      }\n    }\n  }\n  tombstoneLen = itemLen - markIndex;\n  this.items.splice(markIndex);\n  this.lastAttachedItem = Math.min(this.lastAttachedItem, this.items.length);\n  return tombstoneLen;\n};\n\nInfiniteScroller.prototype._collectUnusedNodes = function () {\n  var unusedNodes = [];\n  for (var i = 0; i < this.items.length; i++) {\n    // Skip the items which should be visible.\n    if (i === this.firstAttachedItem) {\n      i = this.lastAttachedItem - 1;\n      continue;\n    }\n    var currentNode = this.items[i].node;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode)) {\n        // Cache tombstones for reuse\n        this.tombstones.push(currentNode);\n        this.tombstones[this.tombstones.length - 1].style.display = 'none';\n      } else {\n        unusedNodes.push(currentNode);\n      }\n    }\n    this.items[i].node = null;\n  }\n  return unusedNodes;\n};\n\nInfiniteScroller.prototype._createDOMNodes = function (unusedNodes) {\n  var tombstoneAnimations = {};\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    while (this.items.length <= i) {\n      this._addItem();\n    }\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode) && currentData) {\n        currentNode.style.zIndex = 1;\n        tombstoneAnimations[i] = [currentNode, this.items[i].top - this.anchorScrollTop];\n        this.items[i].node = null;\n      } else {\n        continue;\n      }\n    }\n    var node = currentData ? this.options.render(currentData, unusedNodes.pop()) : this._getTombStone();\n    node.style.position = 'absolute';\n    this.items[i].top = -1;\n    this.scrollerEl.appendChild(node);\n    this.items[i].node = node;\n  }\n  return tombstoneAnimations;\n};\n\nInfiniteScroller.prototype._cleanupUnusedNodes = function (unusedNodes) {\n  while (unusedNodes.length) {\n    this.scrollerEl.removeChild(unusedNodes.pop());\n  }\n};\n\nInfiniteScroller.prototype._cacheNodeSize = function () {\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    var item = this.items[i];\n    // Only cache the height if we have the real contents, not a placeholder.\n    if (item.data && !item.height) {\n      var isTombstone = isTombstoneNode(item.node);\n      item.height = isTombstone ? this.tombstoneHeight : item.node.offsetHeight;\n      item.width = isTombstone ? this.tombstoneWidth : item.node.offsetWidth;\n    }\n  }\n};\n\nInfiniteScroller.prototype._fixScrollPosition = function () {\n  this.anchorScrollTop = 0;\n  for (var _i = 0; _i < this.anchorItem.index; _i++) {\n    this.anchorScrollTop += this.items[_i].height || this.tombstoneHeight;\n  }\n  this.anchorScrollTop += this.anchorItem.offset;\n\n  // Position all nodes.\n  var curPos = this.anchorScrollTop - this.anchorItem.offset;\n  var i = this.anchorItem.index;\n  while (i > this.firstAttachedItem) {\n    curPos -= this.items[i - 1].height || this.tombstoneHeight;\n    i--;\n  }\n\n  return curPos;\n};\n\nInfiniteScroller.prototype._setupAnimations = function (tombstoneAnimations, curPos) {\n  var _this4 = this;\n\n  for (var i in tombstoneAnimations) {\n    var animation = tombstoneAnimations[i];\n    this.items[i].node.style[style.transform] = 'translateY(' + (this.anchorScrollTop + animation[1]) + 'px) scale(' + this.tombstoneWidth / this.items[i].width + ', ' + this.tombstoneHeight / this.items[i].height + ')';\n    // Call offsetTop on the nodes to be animated to force them to apply current transforms.\n    /* eslint-disable no-unused-expressions */\n    this.items[i].node.offsetTop;\n    animation[0].offsetTop;\n    this.items[i].node.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms';\n  }\n\n  for (var _i2 = this.firstAttachedItem; _i2 < this.lastAttachedItem; _i2++) {\n    var _animation = tombstoneAnimations[_i2];\n    if (_animation) {\n      var tombstoneNode = _animation[0];\n      tombstoneNode.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms, opacity ' + ANIMATION_DURATION_MS + 'ms';\n      tombstoneNode.style[style.transform] = 'translateY(' + curPos + 'px) scale(' + this.items[_i2].width / this.tombstoneWidth + ', ' + this.items[_i2].height / this.tombstoneHeight + ')';\n      tombstoneNode.style.opacity = 0;\n    }\n    if (curPos !== this.items[_i2].top) {\n      if (!_animation) {\n        this.items[_i2].node.style[style.transition] = '';\n      }\n      this.items[_i2].node.style[style.transform] = 'translateY(' + curPos + 'px)';\n    }\n    this.items[_i2].top = curPos;\n    curPos += this.items[_i2].height || this.tombstoneHeight;\n  }\n\n  this.scroller.maxScrollY = -(curPos - this.scroller.wrapperHeight + (this.hasMore ? DEFAULT_SCROLL_RUNWAY : 0));\n\n  var tombstoneAnimationsHandler = setTimeout(function () {\n    for (var _i3 in tombstoneAnimations) {\n      var _animation2 = tombstoneAnimations[_i3];\n      _animation2[0].style.display = 'none';\n      // Tombstone can be recycled now.\n      _this4.tombstones.push(_animation2[0]);\n    }\n  }, ANIMATION_DURATION_MS);\n\n  this.tombstonesAnimationHandlers.push(tombstoneAnimationsHandler);\n};\n\nInfiniteScroller.prototype._getTombStone = function () {\n  var tombstone = this.tombstones.pop();\n  if (tombstone) {\n    tombstone.style.display = '';\n    tombstone.style.opacity = 1;\n    tombstone.style[style.transform] = '';\n    tombstone.style[style.transition] = '';\n    return tombstone;\n  }\n  return this.options.createTombstone();\n};\n\nInfiniteScroller.prototype._addItem = function () {\n  this.items.push({\n    data: null,\n    node: null,\n    height: 0,\n    width: 0,\n    top: 0\n  });\n};\n\nInfiniteScroller.prototype._calculateAnchoredItem = function (initialAnchor, delta) {\n  if (delta === 0) {\n    return initialAnchor;\n  }\n  var i = initialAnchor.index;\n  var tombstones = 0;\n\n  delta += initialAnchor.offset;\n  if (delta < 0) {\n    while (delta < 0 && i > 0 && this.items[i - 1].height) {\n      delta += this.items[i - 1].height;\n      i--;\n    }\n    tombstones = Math.max(-i, Math.ceil(Math.min(delta, 0) / this.tombstoneHeight));\n  } else {\n    while (delta > 0 && i < this.items.length && this.items[i].height && this.items[i].height < delta) {\n      delta -= this.items[i].height;\n      i++;\n    }\n    if (i >= this.items.length || !this.items[i].height) {\n      tombstones = Math.floor(Math.max(delta, 0) / this.tombstoneHeight);\n    }\n  }\n  i += tombstones;\n  delta -= tombstones * this.tombstoneHeight;\n\n  return {\n    index: i,\n    offset: delta\n  };\n};\n\nfunction BScroll(el, options) {\n  this.wrapper = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    warn('Can not resolve the wrapper DOM.');\n  }\n  this.scroller = this.wrapper.children[0];\n  if (!this.scroller) {\n    warn('The wrapper need at least one child element to be scroller.');\n  }\n  // cache style for better performance\n  this.scrollerStyle = this.scroller.style;\n\n  this._init(el, options);\n}\n\ninitMixin(BScroll);\ncoreMixin(BScroll);\neventMixin(BScroll);\nsnapMixin(BScroll);\nwheelMixin(BScroll);\nscrollbarMixin(BScroll);\npullDownMixin(BScroll);\npullUpMixin(BScroll);\nmouseWheelMixin(BScroll);\nzoomMixin(BScroll);\ninfiniteMixin(BScroll);\n\nBScroll.Version = '1.13.2';\n\nexport default BScroll;\n","/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */\n\n!function(e,t){\"function\"==typeof define&&define.amd?define(t):\"object\"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){\"use strict\";var e=function(){};e.version=\"2.0.5\",window.addEventListener(\"mousewheel\",function(){});var t=\"data-scrollmagic-pin-spacer\";e.Controller=function(r){var o,s,a=\"ScrollMagic.Controller\",l=\"FORWARD\",c=\"REVERSE\",u=\"PAUSED\",f=n.defaults,d=this,h=i.extend({},f,r),g=[],p=!1,v=0,m=u,w=!0,y=0,S=!0,b=function(){for(var e in h)f.hasOwnProperty(e)||delete h[e];if(h.container=i.get.elements(h.container)[0],!h.container)throw a+\" init failed.\";w=h.container===window||h.container===document.body||!document.body.contains(h.container),w&&(h.container=window),y=z(),h.container.addEventListener(\"resize\",T),h.container.addEventListener(\"scroll\",T),h.refreshInterval=parseInt(h.refreshInterval)||f.refreshInterval,E()},E=function(){h.refreshInterval>0&&(s=window.setTimeout(A,h.refreshInterval))},x=function(){return h.vertical?i.get.scrollTop(h.container):i.get.scrollLeft(h.container)},z=function(){return h.vertical?i.get.height(h.container):i.get.width(h.container)},C=this._setScrollPos=function(e){h.vertical?w?window.scrollTo(i.get.scrollLeft(),e):h.container.scrollTop=e:w?window.scrollTo(e,i.get.scrollTop()):h.container.scrollLeft=e},F=function(){if(S&&p){var e=i.type.Array(p)?p:g.slice(0);p=!1;var t=v;v=d.scrollPos();var n=v-t;0!==n&&(m=n>0?l:c),m===c&&e.reverse(),e.forEach(function(e){e.update(!0)})}},L=function(){o=i.rAF(F)},T=function(e){\"resize\"==e.type&&(y=z(),m=u),p!==!0&&(p=!0,L())},A=function(){if(!w&&y!=z()){var e;try{e=new Event(\"resize\",{bubbles:!1,cancelable:!1})}catch(t){e=document.createEvent(\"Event\"),e.initEvent(\"resize\",!1,!1)}h.container.dispatchEvent(e)}g.forEach(function(e){e.refresh()}),E()};this._options=h;var O=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(i.type.Array(t))t.forEach(function(e){d.addScene(e)});else if(t instanceof e.Scene)if(t.controller()!==d)t.addTo(d);else if(g.indexOf(t)<0){g.push(t),g=O(g),t.on(\"shift.controller_sort\",function(){g=O(g)});for(var n in h.globalSceneOptions)t[n]&&t[n].call(t,h.globalSceneOptions[n])}return d},this.removeScene=function(e){if(i.type.Array(e))e.forEach(function(e){d.removeScene(e)});else{var t=g.indexOf(e);t>-1&&(e.off(\"shift.controller_sort\"),g.splice(t,1),e.remove())}return d},this.updateScene=function(t,n){return i.type.Array(t)?t.forEach(function(e){d.updateScene(e,n)}):n?t.update(!0):p!==!0&&t instanceof e.Scene&&(p=p||[],-1==p.indexOf(t)&&p.push(t),p=O(p),L()),d},this.update=function(e){return T({type:\"resize\"}),e&&F(),d},this.scrollTo=function(n,r){if(i.type.Number(n))C.call(h.container,n,r);else if(n instanceof e.Scene)n.controller()===d&&d.scrollTo(n.scrollOffset(),r);else if(i.type.Function(n))C=n;else{var o=i.get.elements(n)[0];if(o){for(;o.parentNode.hasAttribute(t);)o=o.parentNode;var s=h.vertical?\"top\":\"left\",a=i.get.offset(h.container),l=i.get.offset(o);w||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],r)}}return d},this.scrollPos=function(e){return arguments.length?(i.type.Function(e)&&(x=e),d):x.call(d)},this.info=function(e){var t={size:y,vertical:h.vertical,scrollPos:v,scrollDirection:m,container:h.container,isDocument:w};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(){return d},this.enabled=function(e){return arguments.length?(S!=e&&(S=!!e,d.updateScene(g,!0)),d):S},this.destroy=function(e){window.clearTimeout(s);for(var t=g.length;t--;)g[t].destroy(e);return h.container.removeEventListener(\"resize\",T),h.container.removeEventListener(\"scroll\",T),i.cAF(o),null},b(),d};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){n.defaults[e]=t},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(n){var o,s,a=\"BEFORE\",l=\"DURING\",c=\"AFTER\",u=r.defaults,f=this,d=i.extend({},u,n),h=a,g=0,p={start:0,end:0},v=0,m=!0,w=function(){for(var e in d)u.hasOwnProperty(e)||delete d[e];for(var t in u)L(t);C()},y={};this.on=function(e,t){return i.type.Function(t)&&(e=e.trim().split(\" \"),e.forEach(function(e){var n=e.split(\".\"),r=n[0],i=n[1];\"*\"!=r&&(y[r]||(y[r]=[]),y[r].push({namespace:i||\"\",callback:t}))})),f},this.off=function(e,t){return e?(e=e.trim().split(\" \"),e.forEach(function(e){var n=e.split(\".\"),r=n[0],i=n[1]||\"\",o=\"*\"===r?Object.keys(y):[r];o.forEach(function(e){for(var n=y[e]||[],r=n.length;r--;){var o=n[r];!o||i!==o.namespace&&\"*\"!==i||t&&t!=o.callback||n.splice(r,1)}n.length||delete y[e]})}),f):f},this.trigger=function(t,n){if(t){var r=t.trim().split(\".\"),i=r[0],o=r[1],s=y[i];s&&s.forEach(function(t){o&&o!==t.namespace||t.callback.call(f,new e.Event(i,t.namespace,f,n))})}return f},f.on(\"change.internal\",function(e){\"loglevel\"!==e.what&&\"tweenChanges\"!==e.what&&(\"triggerElement\"===e.what?E():\"reverse\"===e.what&&f.update())}).on(\"shift.internal\",function(){S(),f.update()}),this.addTo=function(t){return t instanceof e.Controller&&s!=t&&(s&&s.removeScene(f),s=t,C(),b(!0),E(!0),S(),s.info(\"container\").addEventListener(\"resize\",x),t.addScene(f),f.trigger(\"add\",{controller:s}),f.update()),f},this.enabled=function(e){return arguments.length?(m!=e&&(m=!!e,f.update(!0)),f):m},this.remove=function(){if(s){s.info(\"container\").removeEventListener(\"resize\",x);var e=s;s=void 0,e.removeScene(f),f.trigger(\"remove\")}return f},this.destroy=function(e){return f.trigger(\"destroy\",{reset:e}),f.remove(),f.off(\"*.*\"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&m){var t,n=s.info(\"scrollPos\");t=d.duration>0?(n-p.start)/(p.end-p.start):n>=p.start?1:0,f.trigger(\"update\",{startPos:p.start,endPos:p.end,scrollPos:n}),f.progress(t)}else T&&h===l&&O(!0);else s.updateScene(f,!1);return f},this.refresh=function(){return b(),E(),f},this.progress=function(e){if(arguments.length){var t=!1,n=h,r=s?s.info(\"scrollDirection\"):\"PAUSED\",i=d.reverse||e>=g;if(0===d.duration?(t=g!=e,g=1>e&&i?0:1,h=0===g?a:l):0>e&&h!==a&&i?(g=0,h=a,t=!0):e>=0&&1>e&&i?(g=e,h=l,t=!0):e>=1&&h!==c?(g=1,h=c,t=!0):h!==l||i||O(),t){var o={progress:g,state:h,scrollDirection:r},u=h!=n,p=function(e){f.trigger(e,o)};u&&n!==l&&(p(\"enter\"),p(n===a?\"start\":\"end\")),p(\"progress\"),u&&h!==l&&(p(h===a?\"start\":\"end\"),p(\"leave\"))}return f}return g};var S=function(){p={start:v+d.offset},s&&d.triggerElement&&(p.start-=s.info(\"size\")*d.triggerHook),p.end=p.start+d.duration},b=function(e){if(o){var t=\"duration\";F(t,o.call(f))&&!e&&(f.trigger(\"change\",{what:t,newval:d[t]}),f.trigger(\"shift\",{reason:t}))}},E=function(e){var n=0,r=d.triggerElement;if(s&&r){for(var o=s.info(),a=i.get.offset(o.container),l=o.vertical?\"top\":\"left\";r.parentNode.hasAttribute(t);)r=r.parentNode;var c=i.get.offset(r);o.isDocument||(a[l]-=s.scrollPos()),n=c[l]-a[l]}var u=n!=v;v=n,u&&!e&&f.trigger(\"shift\",{reason:\"triggerElementPosition\"})},x=function(){d.triggerHook>0&&f.trigger(\"shift\",{reason:\"containerResize\"})},z=i.extend(r.validate,{duration:function(e){if(i.type.String(e)&&e.match(/^(\\.|\\d)*\\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info(\"size\")*t:0}}if(i.type.Function(e)){o=e;try{e=parseFloat(o())}catch(t){e=-1}}if(e=parseFloat(e),!i.type.Number(e)||0>e)throw o?(o=void 0,0):0;return e}}),C=function(e){e=arguments.length?[e]:Object.keys(z),e.forEach(function(e){var t;if(z[e])try{t=z[e](d[e])}catch(n){t=u[e]}finally{d[e]=t}})},F=function(e,t){var n=!1,r=d[e];return d[e]!=t&&(d[e]=t,C(e),n=r!=d[e]),n},L=function(e){f[e]||(f[e]=function(t){return arguments.length?(\"duration\"===e&&(o=void 0),F(e,t)&&(f.trigger(\"change\",{what:e,newval:d[e]}),r.shifts.indexOf(e)>-1&&f.trigger(\"shift\",{reason:e})),f):d[e]})};this.controller=function(){return s},this.state=function(){return h},this.scrollOffset=function(){return p.start},this.triggerPosition=function(){var e=d.offset;return s&&(e+=d.triggerElement?v:s.info(\"size\")*f.triggerHook()),e};var T,A;f.on(\"shift.internal\",function(e){var t=\"duration\"===e.reason;(h===c&&t||h===l&&0===d.duration)&&O(),t&&_()}).on(\"progress.internal\",function(){O()}).on(\"add.internal\",function(){_()}).on(\"destroy.internal\",function(e){f.removePin(e.reset)});var O=function(e){if(T&&s){var t=s.info(),n=A.spacer.firstChild;if(e||h!==l){var r={position:A.inFlow?\"relative\":\"absolute\",top:0,left:0},o=i.css(n,\"position\")!=r.position;A.pushFollowers?d.duration>0&&(h===c&&0===parseFloat(i.css(A.spacer,\"padding-top\"))?o=!0:h===a&&0===parseFloat(i.css(A.spacer,\"padding-bottom\"))&&(o=!0)):r[t.vertical?\"top\":\"left\"]=d.duration*g,i.css(n,r),o&&_()}else{\"fixed\"!=i.css(n,\"position\")&&(i.css(n,{position:\"fixed\"}),_());var u=i.get.offset(A.spacer,!0),f=d.reverse||0===d.duration?t.scrollPos-p.start:Math.round(g*d.duration*10)/10;u[t.vertical?\"top\":\"left\"]+=f,i.css(A.spacer.firstChild,{top:u.top,left:u.left})}}},_=function(){if(T&&s&&A.inFlow){var e=h===l,t=s.info(\"vertical\"),n=A.spacer.firstChild,r=i.isMarginCollapseType(i.css(A.spacer,\"display\")),o={};A.relSize.width||A.relSize.autoFullWidth?e?i.css(T,{width:i.get.width(A.spacer)}):i.css(T,{width:\"100%\"}):(o[\"min-width\"]=i.get.width(t?T:n,!0,!0),o.width=e?o[\"min-width\"]:\"auto\"),A.relSize.height?e?i.css(T,{height:i.get.height(A.spacer)-(A.pushFollowers?d.duration:0)}):i.css(T,{height:\"100%\"}):(o[\"min-height\"]=i.get.height(t?n:T,!0,!r),o.height=e?o[\"min-height\"]:\"auto\"),A.pushFollowers&&(o[\"padding\"+(t?\"Top\":\"Left\")]=d.duration*g,o[\"padding\"+(t?\"Bottom\":\"Right\")]=d.duration*(1-g)),i.css(A.spacer,o)}},N=function(){s&&T&&h===l&&!s.info(\"isDocument\")&&O()},P=function(){s&&T&&h===l&&((A.relSize.width||A.relSize.autoFullWidth)&&i.get.width(window)!=i.get.width(A.spacer.parentNode)||A.relSize.height&&i.get.height(window)!=i.get.height(A.spacer.parentNode))&&_()},D=function(e){s&&T&&h===l&&!s.info(\"isDocument\")&&(e.preventDefault(),s._setScrollPos(s.info(\"scrollPos\")-((e.wheelDelta||e[s.info(\"vertical\")?\"wheelDeltaY\":\"wheelDeltaX\"])/3||30*-e.detail)))};this.setPin=function(e,n){var r={pushFollowers:!0,spacerClass:\"scrollmagic-pin-spacer\"};if(n=i.extend({},r,n),e=i.get.elements(e)[0],!e)return f;if(\"fixed\"===i.css(e,\"position\"))return f;if(T){if(T===e)return f;f.removePin()}T=e;var o=T.parentNode.style.display,s=[\"top\",\"left\",\"bottom\",\"right\",\"margin\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\"];T.parentNode.style.display=\"none\";var a=\"absolute\"!=i.css(T,\"position\"),l=i.css(T,s.concat([\"display\"])),c=i.css(T,[\"width\",\"height\"]);T.parentNode.style.display=o,!a&&n.pushFollowers&&(n.pushFollowers=!1);var u=T.parentNode.insertBefore(document.createElement(\"div\"),T),d=i.extend(l,{position:a?\"relative\":\"absolute\",boxSizing:\"content-box\",mozBoxSizing:\"content-box\",webkitBoxSizing:\"content-box\"});if(a||i.extend(d,i.css(T,[\"width\",\"height\"])),i.css(u,d),u.setAttribute(t,\"\"),i.addClass(u,n.spacerClass),A={spacer:u,relSize:{width:\"%\"===c.width.slice(-1),height:\"%\"===c.height.slice(-1),autoFullWidth:\"auto\"===c.width&&a&&i.isMarginCollapseType(l.display)},pushFollowers:n.pushFollowers,inFlow:a},!T.___origStyle){T.___origStyle={};var h=T.style,g=s.concat([\"width\",\"height\",\"position\",\"boxSizing\",\"mozBoxSizing\",\"webkitBoxSizing\"]);g.forEach(function(e){T.___origStyle[e]=h[e]||\"\"})}return A.relSize.width&&i.css(u,{width:c.width}),A.relSize.height&&i.css(u,{height:c.height}),u.appendChild(T),i.css(T,{position:a?\"relative\":\"absolute\",margin:\"auto\",top:\"auto\",left:\"auto\",bottom:\"auto\",right:\"auto\"}),(A.relSize.width||A.relSize.autoFullWidth)&&i.css(T,{boxSizing:\"border-box\",mozBoxSizing:\"border-box\",webkitBoxSizing:\"border-box\"}),window.addEventListener(\"scroll\",N),window.addEventListener(\"resize\",N),window.addEventListener(\"resize\",P),T.addEventListener(\"mousewheel\",D),T.addEventListener(\"DOMMouseScroll\",D),O(),f},this.removePin=function(e){if(T){if(h===l&&O(!0),e||!s){var n=A.spacer.firstChild;if(n.hasAttribute(t)){var r=A.spacer.style,o=[\"margin\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\"];margins={},o.forEach(function(e){margins[e]=r[e]||\"\"}),i.css(n,margins)}A.spacer.parentNode.insertBefore(n,A.spacer),A.spacer.parentNode.removeChild(A.spacer),T.parentNode.hasAttribute(t)||(i.css(T,T.___origStyle),delete T.___origStyle)}window.removeEventListener(\"scroll\",N),window.removeEventListener(\"resize\",N),window.removeEventListener(\"resize\",P),T.removeEventListener(\"mousewheel\",D),T.removeEventListener(\"DOMMouseScroll\",D),T=void 0}return f};var R,k=[];return f.on(\"destroy.internal\",function(e){f.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=i.get.elements(e);return 0!==n.length&&i.type.String(t)?(k.length>0&&f.removeClassToggle(),R=t,k=n,f.on(\"enter.internal_class leave.internal_class\",function(e){var t=\"enter\"===e.type?i.addClass:i.removeClass;k.forEach(function(e){t(e,R)})}),f):f},this.removeClassToggle=function(e){return e&&k.forEach(function(e){i.removeClass(e,R)}),f.off(\"start.internal_class end.internal_class\"),R=void 0,k=[],f},w(),f};var r={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!i.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=i.get.elements(e)[0];if(!t)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(i.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:[\"duration\",\"offset\",\"triggerHook\"]};e.Scene.addOption=function(e,t,n,i){e in r.defaults||(r.defaults[e]=t,r.validate[e]=n,i&&r.shifts.push(e))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){r=r||{};for(var i in r)this[i]=r[i];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||\"\",this.timeStamp=this.timestamp=Date.now(),this};var i=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},i=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},o=function(t,n,o,s){if(n=n===document?e:n,n===e)s=!1;else if(!f.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(o?n[\"offset\"+t]||n[\"outer\"+t]:n[\"client\"+t]||n[\"inner\"+t])||0;if(o&&s){var l=i(n);a+=\"Height\"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,\"$1\").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return[\"block\",\"flex\",\"list-item\",\"table\",\"-webkit-box\"].indexOf(e)>-1};var a=0,l=[\"ms\",\"moz\",\"webkit\",\"o\"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+\"RequestAnimationFrame\"],u=e[l[t]+\"CancelAnimationFrame\"]||e[l[t]+\"CancelRequestAnimationFrame\"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),i=e.setTimeout(function(){t(n+r)},r);return a=n+r,i}),u||(u=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=u.bind(e);var f=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\\[object (.+)\\]$/,\"$1\").toLowerCase()};f.String=function(e){return\"string\"===f(e)},f.Function=function(e){return\"function\"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return\"object\"==typeof HTMLElement?e instanceof HTMLElement:e&&\"object\"==typeof e&&null!==e&&1===e.nodeType&&\"string\"==typeof e.nodeName};var d=n.get={};return d.elements=function(t){var n=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(e){return n}if(\"nodelist\"===f(t)||f.Array(t))for(var r=0,i=n.length=t.length;i>r;r++){var o=t[r];n[r]=f.DomElement(o)?o:d.elements(o)}else(f.DomElement(t)||t===document||t===e)&&(n=[t]);return n},d.scrollTop=function(t){return t&&\"number\"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},d.scrollLeft=function(t){return t&&\"number\"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},d.width=function(e,t,n){return o(\"width\",e,t,n)},d.height=function(e,t,n){return o(\"height\",e,t,n)},d.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=d.scrollTop(),n.left+=d.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=\" \"+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(\"(^|\\\\b)\"+t.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \"))},n.css=function(e,t){if(f.String(t))return i(e)[s(t)];if(f.Array(t)){var n={},r=i(e);return t.forEach(function(e){n[e]=r[s(e)]}),n}for(var o in t){var a=t[o];a==parseFloat(a)&&(a+=\"px\"),e.style[s(o)]=a}},n}(window||{});return e});"],"sourceRoot":""}